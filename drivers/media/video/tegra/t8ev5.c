/*
 * kernel/drivers/media/video/tegra
 *
 * Aptina MT9D115 sensor driver
 *
 * Copyright (C) 2010 NVIDIA Corporation
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
 * more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */

#include <linux/delay.h>
#include <linux/fs.h>
#include <linux/i2c.h>
#include <linux/miscdevice.h>
#include <linux/slab.h>
#include <linux/uaccess.h>
#include "t8ev5.h"
#include <linux/hrtimer.h>
#include <linux/platform_device.h>
#include <linux/syscalls.h>
#define SENSOR_WIDTH_REG 0x2703
#define SENSOR_640_WIDTH_VAL 0x0518
#define CAM_CORE_A_OUTPUT_SIZE_WIDTH 0xC86C
#define ONE_TIME_TABLE_CHECK_REG 0x8016
#define ONE_TIME_TABLE_CHECK_DATA 0x086C


#define SETTLETIME_MS 5
#define POS_LOW (0)
#define POS_HIGH (1023)
#define FOCAL_LENGTH (10.0f)
#define FNUMBER (2.8f)
#define FPOS_COUNT 1024
#define T8EV5_FOCUS_MACRO		810
#define T8EV5_FOCUS_INFINITY	50 /* Exact value needs to be decided */

#define MAX_POS 8
#define ANDROID_WINDOW_PRECISION (1000)

#define PREVIEW_SIZE_W ANDROID_WINDOW_PRECISION*2
#define PREVIEW_SIZE_H ANDROID_WINDOW_PRECISION*2

#define PER_SIZE_W 250//PREVIEW_SIZE_W >> 3)
#define PER_SIZE_H 250//PREVIEW_SIZE_H >> 3)


#define DRIVER_VERSION "1.0.0"
#define DEBUG 1
#define MAX_LENS 103
#define NO_LENS_SHADING 1
char mDebugFileName[] = "/data/camera/effect.txt";
#define _debug_is 1
#if _debug_is
#define debug_print(...) pr_err(__VA_ARGS__)
#else
#define debug_print(...) 
#endif

struct sensor_reg {
    u8  op;
	u16 addr;
	u8 val;
};

struct sensor_info {
	int mode;
	atomic_t power_on_loaded;
	atomic_t sensor_init_loaded;
	int current_wb;
	int current_exposure;
	int continuous_enable;
	u16 current_addr;
	//struct work_struct     work;
	struct mutex als_get_sensor_value_mutex;
	struct t8ev5_win_pos win_pos;
	struct t8ev5_win_pos win_pos_old;
	struct t8ev5_config config;
	struct i2c_client *i2c_client;
	struct yuv_sensor_platform_data *pdata;
};


static struct sensor_info *mt9p111_sensor_info;

//static struct sensor_reg all_lens_shadings[MAX_LENS];
static struct sensor_reg af_macro[] = {
//[full scan trigger]
{WRITE_REG_DATA8,0x27FF,0x1F},
{SENSOR_TABLE_END, 0x0000, 0x00}
};
static struct sensor_reg af_continuous[] = {
//[full scan trigger]
{WRITE_REG_DATA8,0x27FF,0x30},
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg full_trigger[] = {
//[full scan trigger]
{WRITE_REG_DATA8,0x27FF,0x28},//one shut af
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg af_infinity[] = {
//[manual focus, place lens to focus infinity]
{WRITE_REG_DATA8,0x27FF,0x00},
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg load_initSetting[] = {

{WRITE_REG_DATA8,0x0004,0x00},//-/-/-/-/-/-/-/PISO_MSKN;
{WRITE_REG_DATA8,0x0100,0x01},//-/-/-/-/-/-/-/MODSEL;
{WRITE_REG_DATA8,0x0101,0x00},//-/-/-/-/-/-/VREVON/HREVON;
{WRITE_REG_DATA8,0x0102,0x02},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD;
{WRITE_REG_DATA8,0x0104,0x00},//-/-/-/-/-/-/PARALLEL_OUT_SW[1:0];
{WRITE_REG_DATA8,0x0105,0x00},//-/-/-/-/-/H_COUNT[10:8];
{WRITE_REG_DATA8,0x0106,0xB8},//H_COUNT[7:0];
{WRITE_REG_DATA8,0x0107,0x00},//-/-/-/-/-/V_COUNT[10:8];
{WRITE_REG_DATA8,0x0108,0x41},//V_COUNT[7:0];
{WRITE_REG_DATA8,0x0109,0x00},//-/-/-/-/-/-/-/SCALE_M[8];
{WRITE_REG_DATA8,0x010A,0x41},//SCALE_M[7:0];
{WRITE_REG_DATA8,0x010B,0x31},//-/V_ANABIN[2:0]/-/-/-/H_ANABIN;
{WRITE_REG_DATA8,0x010C,0x02},//-/-/HFILY[1:0]/HFILUV[1:0]/SCALING_MODE[1:0];
{WRITE_REG_DATA8,0x010D,0x02},//-/-/-/-/HOUTPIX[11:8];
{WRITE_REG_DATA8,0x010E,0x80},//HOUTPIX[7:0];
{WRITE_REG_DATA8,0x010F,0x01},//-/-/-/-/-/VOUTPIX[10:8];
{WRITE_REG_DATA8,0x0110,0xE0},//VOUTPIX[7:0];
{WRITE_REG_DATA8,0x0111,0x00},//-/-/-/-/-/-/HCROP[1:0];
{WRITE_REG_DATA8,0x0112,0x00},//-/-/-/-/-/-/VCROP[9:8];
{WRITE_REG_DATA8,0x0113,0x00},//VCROP[7:0];
{WRITE_REG_DATA8,0x0114,0x00},//-/-/-/-/OUTPUT_FORMAT[3:0];
{WRITE_REG_DATA8,0x0115,0x00},//-/-/-/-/PICEFF[3:0];
{WRITE_REG_DATA8,0x0116,0x00},//-/-/-/-/-/-/-/TH_RGBST;
{WRITE_REG_DATA8,0x0120,0x00},//-/-/-/-/TEST_HC/VSYNC_PH/HSYNC_PH/ESYNC_SW;
{WRITE_REG_DATA8,0x0121,0x00},//-/-/H_PRESET[13:8];
{WRITE_REG_DATA8,0x0122,0x00},//H_PRESET[7:0];
{WRITE_REG_DATA8,0x0123,0x00},//V_PRESET[15:8];
{WRITE_REG_DATA8,0x0124,0x00},//V_PRESET[7:0];
{WRITE_REG_DATA8,0x0125,0x01},//-/-/-/-/-/HREG_HRST_POS[10:8];
{WRITE_REG_DATA8,0x0126,0xBD},//HREG_HRST_POS[7:0];
{WRITE_REG_DATA8,0x0128,0x00},//-/-/-/-/-/-/TH_HOUT_MN[9:8];
{WRITE_REG_DATA8,0x0129,0x00},//TH_HOUT_MN[7:0];
{WRITE_REG_DATA8,0x012A,0x00},//-/-/-/-/TH_SIZE_SEL[3:0];
{WRITE_REG_DATA8,0x012B,0x00},//-/-/-/-/-/-/VCI[1:0];
{WRITE_REG_DATA8,0x012C,0x00},//-/-/-/-/-/-/-/TH_VOUT_MN[8];
{WRITE_REG_DATA8,0x012D,0x00},//TH_VOUT_MN[7:0];
{WRITE_REG_DATA8,0x012E,0x01},//-/-/-/-/-/-/-/ISPXSHUTDOWN;
{WRITE_REG_DATA8,0x0130,0xFC},//DCLK_DRVUP/DOUT_DRVUP/SDA_DRVUP/MSDA_DRVUP/OCDI_DRVUP/PW;
{WRITE_REG_DATA8,0x0131,0x00},//-/-/-/-/-/-/-/DCLK_POL;
{WRITE_REG_DATA8,0x0132,0x00},//-/-/-/-/CKSP_SEL[1:0]/CKMR_SEL[1:0];
{WRITE_REG_DATA8,0x0133,0x00},//-/SLEEP_SW/VCO_STP_SW/PHY_PWRON_SW/-/SLEEP_MN/VCO_STP_;
{WRITE_REG_DATA8,0x0134,0x00},//-/-/-/-/-/-/-/VCMTESTCK;
{WRITE_REG_DATA8,0x0135,0x00},//-/-/-/-/-/-/CKUCDIV[1:0];
{WRITE_REG_DATA8,0x0136,0x02},//-/-/-/-/-/PCMODE/ICP_PCH/ICP_NCH;
{WRITE_REG_DATA8,0x0137,0x01},//-/-/-/-/-/PRE_PLL_CNTL[2:0];
{WRITE_REG_DATA8,0x0138,0x00},//-/-/-/-/-/-/-/PLL_MULTI[8];
{WRITE_REG_DATA8,0x0139,0x39},//PLL_MULTI[7:0];
{WRITE_REG_DATA8,0x013A,0x03},//-/-/-/-/VT_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013B,0x01},//-/-/-/-/OP_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013C,0x05},//-/-/-/-/VT_PIX_CNTL[3:0];
{WRITE_REG_DATA8,0x013D,0x00},//-/-/PLL_SNR_CNTL[1:0]/-/-/PLL_SYS_CNTL[1:0];
{WRITE_REG_DATA8,0x013E,0x27},//-/AD_CNTL[2:0]/-/ST_CNTL[2:0];
{WRITE_REG_DATA8,0x013F,0x77},//-/NREG_CNTL[2:0]/-/BST_CNTL[2:0];
{WRITE_REG_DATA8,0x0140,0x03},//-/-/-/-/-/-/VCO_EN/DIVRSTX;
{WRITE_REG_DATA8,0x0141,0x00},//-/-/-/REGVD_SEL/-/-/AMON0_SEL[1:0];
{WRITE_REG_DATA8,0x0142,0x00},//-/AUTO_ICP_R_SEL/ICP_SEL[1:0]/TXEV_SEL[1:0]/LPFR_SEL[1:0];
{WRITE_REG_DATA8,0x0144,0x00},//-/-/-/-/-/VOUT_SEL[2:0];
{WRITE_REG_DATA8,0x0145,0x17},//-/-/CL_SEL[1:0]/-/LSTB/BIAS_SEL/CAMP_EN;
{WRITE_REG_DATA8,0x0148,0x18},//EXTCLK_FRQ_MHZ[15:8];
{WRITE_REG_DATA8,0x0149,0x00},//EXTCLK_FRQ_MHZ[7:0];
{WRITE_REG_DATA8,0x014B,0x00},//SY_SPARE1[7:0];
{WRITE_REG_DATA8,0x014C,0x00},//SY_SPARE2[7:0];
{WRITE_REG_DATA8,0x0200,0xFF},//LMCC_SW/LM_BLK_SW/PGC_SW/UV_SW/YBLK_SW/ETI_SW/YNC_SW/YSHP_SW;
{WRITE_REG_DATA8,0x0201,0x3E},//ALS_SW/BLK_KILLER_SW/BRIGHT_SW/CNTLV_SW/CNT_SW/UVLPF_SW/UVLPF_SW/U;
{WRITE_REG_DATA8,0x0202,0x01},//-/-/-/-/-/-/LM_T0T1_SEL/FCS_SW;
{WRITE_REG_DATA8,0x0203,0x11},//-/LCS_LI/LCS_CS/D_HCHARA/-/-/D_HLIMSW[1:0];
#if 0 //newest
{WRITE_REG_DATA8,0x0204,0x27},//LM_RMG[7:0];
{WRITE_REG_DATA8,0x0205,0x05},//LM_RMB[7:0];
{WRITE_REG_DATA8,0x0206,0x14},//LM_GMR[7:0];
{WRITE_REG_DATA8,0x0207,0x05},//LM_GMB[7:0];
{WRITE_REG_DATA8,0x0208,0x14},//LM_BMR[7:0];
{WRITE_REG_DATA8,0x0209,0x27},//LM_BMG[7:0];
#else //oldest
{WRITE_REG_DATA8,0x0204,0x2f},//LM_RMG[7:0];
{WRITE_REG_DATA8,0x0205,0x06},//LM_RMB[7:0];
{WRITE_REG_DATA8,0x0206,0x18},//LM_GMR[7:0];
{WRITE_REG_DATA8,0x0207,0x06},//LM_GMB[7:0];
{WRITE_REG_DATA8,0x0208,0x18},//LM_BMR[7:0];
{WRITE_REG_DATA8,0x0209,0x2f},//LM_BMG[7:0];
#endif
{WRITE_REG_DATA8,0x020A,0x21},//-/GAM01P[6:0];
{WRITE_REG_DATA8,0x020B,0x23},//-/GAM02P[6:0];
{WRITE_REG_DATA8,0x020C,0x21},//-/GAM03P[6:0];
{WRITE_REG_DATA8,0x020D,0x1B},//-/GAM04P[6:0];
{WRITE_REG_DATA8,0x020E,0x2D},//-/GAM05P[6:0];
{WRITE_REG_DATA8,0x020F,0x26},//-/GAM06P[6:0];
{WRITE_REG_DATA8,0x0210,0x21},//-/GAM07P[6:0];
{WRITE_REG_DATA8,0x0211,0x1D},//-/GAM08P[6:0];
{WRITE_REG_DATA8,0x0212,0x33},//-/GAM09P[6:0];
{WRITE_REG_DATA8,0x0213,0x2D},//-/GAM10P[6:0];
{WRITE_REG_DATA8,0x0214,0x28},//-/GAM11P[6:0];
{WRITE_REG_DATA8,0x0215,0x24},//-/GAM12P[6:0];
{WRITE_REG_DATA8,0x0216,0x21},//-/GAM13P[6:0];
{WRITE_REG_DATA8,0x0217,0x1F},//-/GAM14P[6:0];
{WRITE_REG_DATA8,0x0218,0x1D},//-/GAM15P[6:0];
{WRITE_REG_DATA8,0x0219,0x1C},//-/GAM16P[6:0];
{WRITE_REG_DATA8,0x021A,0x34},//-/GAM17P[6:0];
{WRITE_REG_DATA8,0x021B,0x30},//-/GAM18P[6:0];
{WRITE_REG_DATA8,0x021C,0x2C},//-/GAM19P[6:0];
{WRITE_REG_DATA8,0x021D,0x29},//-/GAM20P[6:0];
{WRITE_REG_DATA8,0x021E,0x4D},//-/GAM21P[6:0];
{WRITE_REG_DATA8,0x021F,0x46},//-/GAM22P[6:0];
{WRITE_REG_DATA8,0x0220,0x20},//-/GAM23P[6:0];
{WRITE_REG_DATA8,0x0221,0x0F},//-/GAM24P[6:0];
{WRITE_REG_DATA8,0x0222,0x00},//-/-/-/-/BLK_ADJ[3:0];
{WRITE_REG_DATA8,0x0223,0x57},//CbG_MAT[7:0];
{WRITE_REG_DATA8,0x0224,0x83},//CbB_MAT[7:0];
{WRITE_REG_DATA8,0x0225,0x80},//Cb_GAIN[7:0];
{WRITE_REG_DATA8,0x0226,0x83},//CrR_MAT[7:0];
{WRITE_REG_DATA8,0x0227,0x6E},//CrG_MAT[7:0];
{WRITE_REG_DATA8,0x0228,0x80},//Cr_GAIN[7:0];
{WRITE_REG_DATA8,0x0229,0x5F},//Cbr_MGAIN1[3:0]/Cbr_MGAIN0[3:0];
{WRITE_REG_DATA8,0x022A,0x06},//-/-/-/-/Cbr_MGAIN2[3:0];
{WRITE_REG_DATA8,0x022B,0x56},//EXTR_CRNG1[3:0]/EXTR_CRNG0[3:0];
{WRITE_REG_DATA8,0x022C,0x08},//-/-/-/-/EXTR_CRNG2[3:0];
{WRITE_REG_DATA8,0x022D,0x3A},//EXTR_PG1[3:0]/EXTR_PG0[3:0];
{WRITE_REG_DATA8,0x022E,0x06},//-/-/-/-/EXTR_PG2[3:0];
{WRITE_REG_DATA8,0x022F,0x3B},//EXTR_MG1[3:0]/EXTR_MG0[3:0];
{WRITE_REG_DATA8,0x0230,0x06},//-/-/-/-/EXTR_MG2[3:0];
{WRITE_REG_DATA8,0x0231,0x18},//EXTR_LIM[7:0];
{WRITE_REG_DATA8,0x0232,0x00},//ETI_M[3:0]/ETI_P[3:0];
{WRITE_REG_DATA8,0x0233,0x8F},//YNC_LIM1[3:0]/YNC_LIM0[3:0];
{WRITE_REG_DATA8,0x0234,0x08},//-/-/-/-/YNC_LIM2[3:0];
{WRITE_REG_DATA8,0x0235,0x07},//-/-/-/-/YNC_GAIN[3:0];
{WRITE_REG_DATA8,0x0236,0x34},//SHP_CRING1[3:0]/SHP_CRING0[3:0];
{WRITE_REG_DATA8,0x0237,0x03},//-/-/-/-/SHP_CRING2[3:0];
{WRITE_REG_DATA8,0x0238,0x0F},//-/-/-/SHP_LIM1[4:0];
{WRITE_REG_DATA8,0x0239,0xFF},//SHP_LIM2[7:0];
{WRITE_REG_DATA8,0x023A,0x48},//SHP_PGAIN1[3:0]/SHP_PGAIN0[3:0];
{WRITE_REG_DATA8,0x023B,0x04},//-/-/-/-/SHP_PGAIN2[3:0];
{WRITE_REG_DATA8,0x023C,0x48},//SHP_MGAIN1[3:0]/SHP_MGAIN0[3:0];
{WRITE_REG_DATA8,0x023D,0x04},//-/-/-/-/SHP_MGAIN2[3:0];
{WRITE_REG_DATA8,0x023E,0x80},//ALS_AG[7:0];
{WRITE_REG_DATA8,0x023F,0x60},//-/ALS_BLIM[6:0];
{WRITE_REG_DATA8,0x0240,0x60},//-/ALS_BLK[6:0];
{WRITE_REG_DATA8,0x0241,0x70},//ALS_WHT[7:0];
{WRITE_REG_DATA8,0x0242,0xFC},//BLK_CHLV[7:0];
{WRITE_REG_DATA8,0x0243,0xFC},//WHT_CHLV[7:0];
{WRITE_REG_DATA8,0x0244,0xFF},//BLK_BLV[7:0];
{WRITE_REG_DATA8,0x0245,0x00},//BLK_CNT[7:0];
{WRITE_REG_DATA8,0x0246,0x08},//WHT_CNT[7:0];
{WRITE_REG_DATA8,0x0247,0x00},//WHT_FLV[7:0];
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0248,0xC0},//BRIGHT[7:0];
#else
{WRITE_REG_DATA8,0x0248,0xe6},//BRIGHT[7:0];//c0
#endif
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x024A,0x00},//BLK_CONT1[3:0]/BLK_CONT0[3:0];
{WRITE_REG_DATA8,0x024B,0x00},//-/-/-/-/BLK_CONT2[3:0];
{WRITE_REG_DATA8,0x024C,0x00},//WHT_CONT1[3:0]/WHT_CONT0[3:0];
{WRITE_REG_DATA8,0x024D,0x00},//-/-/-/-/WHT_CONT2[3:0];
{WRITE_REG_DATA8,0x024E,0xFF},//UVK_GAIN1[1:0]/UVK_GAIN0[1:0]/LPF1[1:0]/LPF0[1:0];
{WRITE_REG_DATA8,0x024F,0x1F},//-/-/-/UVK_LIM0[4:0];
{WRITE_REG_DATA8,0x0250,0x1F},//-/-/-/UVK_LIM1[4:0];
{WRITE_REG_DATA8,0x0251,0x0F},//FCS_LV[7:0];
{WRITE_REG_DATA8,0x0252,0x0F},//FCS_GAIN[7:0];
{WRITE_REG_DATA8,0x0253,0x07},//FCS_AG[7:0];
{WRITE_REG_DATA8,0x0255,0x82},//DTLGAIN[3:0]/EMBGAIN[3:0];
{WRITE_REG_DATA8,0x0256,0x6A},//SEPIAOFSU[7:0];
{WRITE_REG_DATA8,0x0257,0x93},//SEPIAOFSV[7:0];
{WRITE_REG_DATA8,0x0258,0x55},//UNICOFSU[7:0];
{WRITE_REG_DATA8,0x0259,0x49},//UNICOFSV[7:0];
{WRITE_REG_DATA8,0x025A,0x02},//-/-/-/-/-/-/ANTQSFT[1:0];
{WRITE_REG_DATA8,0x025C,0x00},//-/-/-/-/-/-/TEST_IN_SW[1:0];
{WRITE_REG_DATA8,0x025D,0x00},//TEST_AG[7:0];
{WRITE_REG_DATA8,0x025E,0x00},//MP_SPARE[7:0];
{WRITE_REG_DATA8,0x0300,0x02},//-/-/-/-/-/-/ALCSW/ALCLOCK;
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0302,0x00},//-/-/-/-/-/-/ALCAIM[9:8];
{WRITE_REG_DATA8,0x0303,0xC0},//ALCAIM[7:0];
#else
{WRITE_REG_DATA8,0x0302,0x01},//-/-/-/-/-/-/ALCAIM[9:8]; //old 0x00
{WRITE_REG_DATA8,0x0303,0x00},//ALCAIM[7:0]; //0xc0
#endif
{WRITE_REG_DATA8,0x0304,0x3E},//AGMIN[7:0];
{WRITE_REG_DATA8,0x0305,0x02},//-/-/-/-/AGMAX[11:8];
{WRITE_REG_DATA8,0x0306,0xF0},//AGMAX[7:0];
{WRITE_REG_DATA8,0x0307,0x01},//MES[15:8];
{WRITE_REG_DATA8,0x0308,0x00},//MES[7:0];
{WRITE_REG_DATA8,0x0309,0x00},//ESLIMMODE/ROOMDET/-/-/MAG[11:8];
{WRITE_REG_DATA8,0x030A,0x3E},//MAG[7:0];
{WRITE_REG_DATA8,0x030B,0x00},//MDG[7:0];
{WRITE_REG_DATA8,0x030C,0x19},//A1WEIGHT[1:0]/A2WEIGHT[1:0]/A3WEIGHT[1:0]/A4WEIGHT[1:0];
{WRITE_REG_DATA8,0x030D,0x1F},//A5WEIGHT[1:0]/B1WEIGHT[1:0]/B2WEIGHT[1:0]/B3WEIGHT[1:0];
{WRITE_REG_DATA8,0x030E,0xC1},//B4WEIGHT[1:0]/B5WEIGHT[1:0]/C1WEIGHT[1:0]/C2WEIGHT[1:0];
{WRITE_REG_DATA8,0x030F,0x90},//C3WEIGHT[1:0]/C4WEIGHT[1:0]/C5WEIGHT[1:0]/-/-;
{WRITE_REG_DATA8,0x0310,0x1F},//UDMODE[1:0]/-/UPDNSPD[4:0];
{WRITE_REG_DATA8,0x0311,0x1F},//ALCOFS[2:0]/NEARSPD[4:0];
{WRITE_REG_DATA8,0x0312,0x04},//ALCFRZLV[7:0];
{WRITE_REG_DATA8,0x0313,0x01},//ALCFRZTIM[7:0];
{WRITE_REG_DATA8,0x0314,0xFF},//ALCSIGMAX[7:0];
{WRITE_REG_DATA8,0x0315,0xB8},//FAUTO/FCOUNT[2:0]/FCLSBON/EXPLIM[2:0];
{WRITE_REG_DATA8,0x0316,0x66},//FLLONGON/FRMSPD[1:0]/FL600S[12:8];
{WRITE_REG_DATA8,0x0317,0x75},//FL600S[7:0];
{WRITE_REG_DATA8,0x0318,0x96},//ACFDET/AC60M/FLMANU/ACDETDLY/MSKLINE[1:0]/ACDPWAIT[1:0];
{WRITE_REG_DATA8,0x0319,0x00},//FL600AT/TTL1V_ON/-/-/-/-/-/FLDETM[8];
{WRITE_REG_DATA8,0x031A,0x26},//FLDETM[7:0];
{WRITE_REG_DATA8,0x031B,0x02},//ACDET1LV[7:0];
{WRITE_REG_DATA8,0x031C,0x08},//ACDET2LV[7:0];
{WRITE_REG_DATA8,0x031D,0x0C},//SATGUP/SATFRZ/SAT1VDET/-/DETSEL[3:0];
{WRITE_REG_DATA8,0x031E,0xFF},//APLSAT[7:0];
{WRITE_REG_DATA8,0x031F,0x00},//PEAKALCON/-/-/-/PEAKDEC[3:0];
{WRITE_REG_DATA8,0x0321,0x00},//WBMRG[7:0];
{WRITE_REG_DATA8,0x0322,0x3D},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0x00},//WBMGG[7:0];
{WRITE_REG_DATA8,0x0324,0x11},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];
{WRITE_REG_DATA8,0x0325,0x00},//WBMBG[7:0];
{WRITE_REG_DATA8,0x0320,0x81},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];
{WRITE_REG_DATA8,0x0326,0x0D},//WBGRMAX[7:0];
{WRITE_REG_DATA8,0x0327,0x28},//WBGRMIN[7:0];
{WRITE_REG_DATA8,0x0328,0x23},//WBGBMAX[7:0];
{WRITE_REG_DATA8,0x0329,0x13},//WBGBMIN[7:0];
{WRITE_REG_DATA8,0x032A,0x0B},//RBCUT0H[7:0];
{WRITE_REG_DATA8,0x032B,0xF4},//RBCUT0L[7:0];
{WRITE_REG_DATA8,0x032C,0x2C},//-/RYCUT0P[6:0];
{WRITE_REG_DATA8,0x032D,0x2A},//-/RYCUT0N[6:0];
{WRITE_REG_DATA8,0x032E,0x27},//-/BYCUT0P[6:0];
{WRITE_REG_DATA8,0x032F,0x28},//-/BYCUT0N[6:0];
{WRITE_REG_DATA8,0x0330,0x00},//RYCUT1H[7:0];
{WRITE_REG_DATA8,0x0331,0x00},//-/RYCUT1L[6:0];
{WRITE_REG_DATA8,0x0332,0x00},//BYCUT1H[7:0];
{WRITE_REG_DATA8,0x0333,0x00},//-/BYCUT1L[6:0];
{WRITE_REG_DATA8,0x0334,0xE1},//RYCUT2H[7:0];
{WRITE_REG_DATA8,0x0335,0x17},//-/RYCUT2L[6:0];
{WRITE_REG_DATA8,0x0336,0x22},//BYCUT2H[7:0];
{WRITE_REG_DATA8,0x0337,0x19},//-/BYCUT2L[6:0];
{WRITE_REG_DATA8,0x0338,0x19},//RYCUT3H[7:0];
{WRITE_REG_DATA8,0x0339,0x0F},//-/RYCUT3L[6:0];
{WRITE_REG_DATA8,0x033A,0xFF},//BYCUT3H[7:0];
{WRITE_REG_DATA8,0x033B,0x24},//-/BYCUT3L[6:0];
{WRITE_REG_DATA8,0x033C,0xC7},//YGATEH[7:0];
{WRITE_REG_DATA8,0x033D,0x20},//YGATEL[7:0];
{WRITE_REG_DATA8,0x033E,0x45},//CGRANGE[1:0]/CGRANGE_EX/-/AWBSPD[3:0];
{WRITE_REG_DATA8,0x033F,0x02},//AWBHUECOR/-/-/AWBULV[4:0];
{WRITE_REG_DATA8,0x0340,0x02},//AWBFZTIM[2:0]/AWBVLV[4:0];
{WRITE_REG_DATA8,0x0341,0x00},//AWBSFTU[7:0];
{WRITE_REG_DATA8,0x0342,0x00},//AWBSFTV[7:0];
{WRITE_REG_DATA8,0x0343,0x00},//AWBWAIT[7:0];
{WRITE_REG_DATA8,0x0344,0x04},//-/-/-/-/CGCNGSLP[2:0];
{WRITE_REG_DATA8,0x0345,0x90},//CGCNGLV[7:0];
{WRITE_REG_DATA8,0x0346,0x12},//-/RYCUTLITE[6:0];
{WRITE_REG_DATA8,0x0347,0x10},//-/BYCUTLITE[6:0];
{WRITE_REG_DATA8,0x0348,0x00},//SPLMKON/SPLMKBL/FAREAMK/CAREAMK/CGATEMK/-/-/-;
{WRITE_REG_DATA8,0x0349,0x03},//-/-/-/-/SPLADRH[11:8];
{WRITE_REG_DATA8,0x034A,0x28},//SPLADRH[7:0];
{WRITE_REG_DATA8,0x034B,0x20},//MKFLKON/MKFLKSPD[1:0]/-/-/SPLADRV[10:8];
{WRITE_REG_DATA8,0x034C,0x60},//SPLADRV[7:0];
{WRITE_REG_DATA8,0x034D,0x00},//MMES[15:8];
{WRITE_REG_DATA8,0x034E,0x50},//MMES[7:0];
{WRITE_REG_DATA8,0x034F,0x01},//-/-/-/-/-/-/ALCAIML[9:8];
{WRITE_REG_DATA8,0x0350,0x00},//ALCAIML[7:0];
{WRITE_REG_DATA8,0x0351,0x00},//ALCSIGMIN[7:0];
{WRITE_REG_DATA8,0x0352,0x73},//PKDOT_CNTH[3:0]/PKDOT_CNTL[3:0];
{WRITE_REG_DATA8,0x0353,0xA0},//ALC_SUB[1:0]/ALC_ADD[1:0]/-/-/SELFRZLV/PKALCSW;
{WRITE_REG_DATA8,0x0354,0x00},//-/-/-/-/-/-/PKALCESL[9:8];
{WRITE_REG_DATA8,0x0355,0x03},//PKALCESL[7:0];
{WRITE_REG_DATA8,0x0356,0x00},//-/-/ALC_SWSEL[1:0]/-/-/AWB_SWSEL[1:0];
{WRITE_REG_DATA8,0x0357,0xC0},//SATSET[7:0];
{WRITE_REG_DATA8,0x0358,0x00},//AU_SPARE_T0[7:0];
{WRITE_REG_DATA8,0x0400,0xFF},//HLNRSW/DANSASW[1:0]/LDNRSW/VNRSW/ABPCSW/WBPSW/BBPSW;
{WRITE_REG_DATA8,0x0401,0x25},//-/PWB_T0T1_SEL/ANRSW/PEDAJSW/GDANSASW/LSSCSW/LSAG_SW/;
{WRITE_REG_DATA8,0x0402,0x00},//-/-/-/-/-/TPATRGBSW[2:0];
{WRITE_REG_DATA8,0x0403,0x40},//BLKADJ[7:0];
{WRITE_REG_DATA8,0x0404,0x00},//BLKR[3:0]/BLKGR[3:0];
{WRITE_REG_DATA8,0x0405,0x00},//BLKGB[3:0]/BLKB[3:0];
{WRITE_REG_DATA8,0x0406,0x3F},//-/-/OBWIDTH[5:0];
{WRITE_REG_DATA8,0x0407,0x00},//-/-/-/-/-/OBCLIP/BLLVSEL/DANSA2L;
{WRITE_REG_DATA8,0x0408,0x03},//HNCLIM1[3:0]/HNCLIM0[3:0];
{WRITE_REG_DATA8,0x0409,0x0F},//-/-/-/-/HNCLIM2[3:0];
{WRITE_REG_DATA8,0x040A,0x00},//-/-/-/-/LDNRGA[3:0];
{WRITE_REG_DATA8,0x040B,0x73},//VNRLIM1[3:0]/VNRLIM0[3:0];
{WRITE_REG_DATA8,0x040C,0x0F},//-/-/-/-/VNRLIM2[3:0];
{WRITE_REG_DATA8,0x040D,0x08},//-/-/-/-/VNRG[3:0];
{WRITE_REG_DATA8,0x040E,0x0C},//BBPLV[7:0];
{WRITE_REG_DATA8,0x040F,0x20},//WBPLV0[7:0];
{WRITE_REG_DATA8,0x0410,0xC4},//WBPLV2[3:0]/WBPLV1[3:0];
{WRITE_REG_DATA8,0x0411,0x80},//WHTAG[7:0];
{WRITE_REG_DATA8,0x0412,0x68},//ANCNTLV[7:0];
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0413,0x68},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x0F},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x43},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0F},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x08},//-/-/-/-/EGGAIN[3:0];
{WRITE_REG_DATA8,0x0418,0x00},//-/-/EGLIMSG[1:0]/-/-/EGLIMS[1:0];
#else
{WRITE_REG_DATA8,0x0413,0x88},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x0F},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x43},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0F},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x0F},//-/-/-/-/EGGAIN[3:0];
{WRITE_REG_DATA8,0x0418,0x00},//HNCLIM1[3:0]/HNCLIM0[3:0];
#endif
{WRITE_REG_DATA8,0x0419,0x01},//-/-/-/-/AJUST0[3:0];
{WRITE_REG_DATA8,0x041A,0x00},//GRPED0[3:0]/GBPED0[3:0];
{WRITE_REG_DATA8,0x041B,0x00},//RPED0[3:0]/BPED0[3:0];
{WRITE_REG_DATA8,0x041C,0x00},//GRPED1[3:0]/GBPED1[3:0];
{WRITE_REG_DATA8,0x041D,0x00},//RPED1[3:0]/BPED1[3:0];
{WRITE_REG_DATA8,0x041E,0xF0},//GDANSALV[7:0];
{WRITE_REG_DATA8,0x041F,0x08},//-/-/-/-/GDANSAG[3:0];
{WRITE_REG_DATA8,0x0420,0x02},//PWBGAINGR[7:0];
{WRITE_REG_DATA8,0x0421,0x02},//PWBGAINGB[7:0];
{WRITE_REG_DATA8,0x0422,0x46},//PWBGAINR[7:0];
{WRITE_REG_DATA8,0x0423,0x5E},//PWBGAINB[7:0];
{WRITE_REG_DATA8,0x0426,0x00},//-/-/-/-/-/-/LIPOL/CSPOL;
{WRITE_REG_DATA8,0x0427,0x10},//-/LS4SIG[2:0]/-/LS1SIG[2:0] polarity  4th -/B/R/g/  1st -/B/R/G;
{WRITE_REG_DATA8,0x0428,0x8D},//LSHOFG[7:0] // H Center position;
{WRITE_REG_DATA8,0x0429,0x80},//LSHOFR[7:0];
{WRITE_REG_DATA8,0x042A,0x80},//LSHOFB[7:0];
{WRITE_REG_DATA8,0x042B,0x97},//LSVOFG[7:0] // V Center position;
{WRITE_REG_DATA8,0x042C,0x80},//LSVOFR[7:0];
{WRITE_REG_DATA8,0x042D,0x80},//LSVOFB[7:0];
{WRITE_REG_DATA8,0x042E,0x00},//LSALUG[7:0] // Up Left G  ### 1st order ###;
{WRITE_REG_DATA8,0x042F,0x04},//LSALUR[7:0] //         R;
{WRITE_REG_DATA8,0x0430,0x04},//LSALUB[7:0] //         B;
{WRITE_REG_DATA8,0x0431,0x08},//LSARUG[7:0] // Up Right G;
{WRITE_REG_DATA8,0x0432,0x00},//LSARUR[7:0] //          R;
{WRITE_REG_DATA8,0x0433,0x08},//LSARUB[7:0] //          B;
{WRITE_REG_DATA8,0x0434,0x00},//LSALDG[7:0] // Bottom Left G;
{WRITE_REG_DATA8,0x0435,0x00},//LSALDR[7:0] //             R;
{WRITE_REG_DATA8,0x0436,0x00},//LSALDB[7:0] //             B;
{WRITE_REG_DATA8,0x0437,0x04},//LSARDG[7:0] // Bottom Right G;
{WRITE_REG_DATA8,0x0438,0x26},//LSARDR[7:0] //              R;
{WRITE_REG_DATA8,0x0439,0x10},//LSARDB[7:0] //              B;
{WRITE_REG_DATA8,0x043A,0x9E},//LSBLG[7:0]  // Left  G   ## 2nd order ##;
{WRITE_REG_DATA8,0x043B,0x97},//LSBLR[7:0]  //       R;
{WRITE_REG_DATA8,0x043C,0x66},//LSBLB[7:0]  //       B;
{WRITE_REG_DATA8,0x043D,0x9F},//LSBRG[7:0]  // Right G;
{WRITE_REG_DATA8,0x043E,0xC3},//LSBRR[7:0]  //       R;
{WRITE_REG_DATA8,0x043F,0x8C},//LSBRB[7:0]  //       B;
{WRITE_REG_DATA8,0x0440,0x37},//LSCUG[7:0]  // Up    G;
{WRITE_REG_DATA8,0x0441,0x41},//LSCUR[7:0]  //       R;
{WRITE_REG_DATA8,0x0442,0x32},//LSCUB[7:0]  //       B;
{WRITE_REG_DATA8,0x0443,0x48},//LSCDG[7:0]  // Bottom G;
{WRITE_REG_DATA8,0x0444,0x57},//LSCDR[7:0]  //        R;
{WRITE_REG_DATA8,0x0445,0x41},//LSCDB[7:0]  //        B;
{WRITE_REG_DATA8,0x0446,0x60},//LSDLG[7:0]  // Left  G   ## 4th order ##;
{WRITE_REG_DATA8,0x0447,0x00},//LSDLR[7:0]  //       R;
{WRITE_REG_DATA8,0x0448,0x00},//LSDLB[7:0]  //       B;
{WRITE_REG_DATA8,0x0449,0x00},//LSDRG[7:0]  // Right G;
{WRITE_REG_DATA8,0x044A,0x70},//LSDRR[7:0]  //       R;
{WRITE_REG_DATA8,0x044B,0x20},//LSDRB[7:0]  //       B;
{WRITE_REG_DATA8,0x044C,0x00},//LSEUG[7:0]  // Up    G;
{WRITE_REG_DATA8,0x044D,0x20},//LSEUR[7:0]  //       R;
{WRITE_REG_DATA8,0x044E,0x00},//LSEUB[7:0]  //       B;
{WRITE_REG_DATA8,0x044F,0x30},//LSEDG[7:0]  // Bottom G;
{WRITE_REG_DATA8,0x0450,0x00},//LSEDR[7:0]  //        R;
{WRITE_REG_DATA8,0x0451,0x00},//LSEDB[7:0]  //        B;
{WRITE_REG_DATA8,0x0452,0x00},//-/-/-/-/LSAG_L[3:0] // G linear gain for dark condition 0h: 0x 1h:;
{WRITE_REG_DATA8,0x0453,0x00},//-/-/-/-/LSAR_L[3:0] // R;
{WRITE_REG_DATA8,0x0454,0x00},//-/-/-/-/LSAB_L[3:0] // B;
{WRITE_REG_DATA8,0x0455,0x00},//LSBLG_L[3:0]/LSBRG_L[3:0];
{WRITE_REG_DATA8,0x0456,0x00},//LSBLR_L[3:0]/LSBRR_L[3:0];
{WRITE_REG_DATA8,0x0457,0x00},//LSBLB_L[3:0]/LSBRB_L[3:0];
{WRITE_REG_DATA8,0x0458,0x00},//LSCUG_L[3:0]/LSCDG_L[3:0];
{WRITE_REG_DATA8,0x0459,0x00},//LSCUR_L[3:0]/LSCDR_L[3:0];
{WRITE_REG_DATA8,0x045A,0x00},//LSCUB_L[3:0]/LSCDB_L[3:0];
{WRITE_REG_DATA8,0x045B,0x80},//LSHCNT_MPY[7:0];
{WRITE_REG_DATA8,0x045C,0x01},//-/-/-/-/LSVCNT_MPY[11:8];
{WRITE_REG_DATA8,0x045D,0x9F},//LSVCNT_MPY[7:0];
{WRITE_REG_DATA8,0x045E,0x02},//-/-/-/-/-/-/LSMGSEL[1:0];
{WRITE_REG_DATA8,0x045F,0x00},//-/-/-/-/TESTPAT[3:0];
{WRITE_REG_DATA8,0x0460,0x00},//TPATSLPH[7:0];
{WRITE_REG_DATA8,0x0461,0x00},//TPATSLPV[7:0];
{WRITE_REG_DATA8,0x0462,0x00},//-/-/-/-/-/-/TDATARE[9:8];
{WRITE_REG_DATA8,0x0463,0x00},//TDATARE[7:0];
{WRITE_REG_DATA8,0x0464,0x00},//-/-/-/-/-/-/TDATAGR[9:8];
{WRITE_REG_DATA8,0x0465,0x00},//TDATAGR[7:0];
{WRITE_REG_DATA8,0x0466,0x00},//-/-/-/-/-/-/TDATABL[9:8];
{WRITE_REG_DATA8,0x0467,0x00},//TDATABL[7:0];
{WRITE_REG_DATA8,0x0468,0x00},//-/-/-/-/-/-/TDATAGB[9:8];
{WRITE_REG_DATA8,0x0469,0x00},//TDATAGB[7:0];
{WRITE_REG_DATA8,0x046B,0x00},//PP_SPARE[7:0];
{WRITE_REG_DATA8,0x0600,0x10},//-/-/-/BOOSTEN/POSLFIX/NEGLFIX/-/NEGLEAKCUT;
{WRITE_REG_DATA8,0x0601,0x08},//BSTREADEV/-/-/-/NEGBSTCNT[3:0];
{WRITE_REG_DATA8,0x0602,0x06},//POSBSTSEL/-/-/-/-/POSBSTCNT[2:0];
{WRITE_REG_DATA8,0x0603,0x35},//-/POSBSTHG[2:0]/-/POSBSTGA[2:0];
{WRITE_REG_DATA8,0x0604,0x00},//-/-/-/-/RSTVDSEL/READVDSEL/LNOBMODE/GDMOSBGREN;
{WRITE_REG_DATA8,0x0605,0x80},//KBIASSEL/-/-/-/-/-/-/-;
{WRITE_REG_DATA8,0x0606,0x07},//-/-/-/BSVBPSEL[4:0];
{WRITE_REG_DATA8,0x0607,0x31},//-/DRADRVLV[2:0]/-/-/DRADRVI[1:0];
{WRITE_REG_DATA8,0x0608,0x8E},//DRADRVPU[1:0]/-/VREFV[4:0];
{WRITE_REG_DATA8,0x0609,0xCC},//ADSW2WEAK/ADSW1WEAK/-/-/VREFAI[3:0];
{WRITE_REG_DATA8,0x060A,0x20},//ADCKSEL/-/ADCKDIV[1:0]/-/SENSEMODE[2:0];
{WRITE_REG_DATA8,0x060B,0x00},//-/-/SPARE[1:0]/ANAMON1_SEL[3:0];
{WRITE_REG_DATA8,0x060C,0x07},//HREG_TEST/-/-/-/-/BINVSIG/BINED/BINCMP;
{WRITE_REG_DATA8,0x060E,0x00},//EXT_HCNT_MAX_ON/-/-/HCNT_MAX_MODE/-/-/-/MLT_SPL_MODE;
{WRITE_REG_DATA8,0x060F,0x0A},//HCNT_MAX_FIXVAL[15:8];
{WRITE_REG_DATA8,0x0610,0xDC},//HCNT_MAX_FIXVAL[7:0];
{WRITE_REG_DATA8,0x0612,0x0C},//-/-/VREG_TEST[1:0]/ES_MODE/BIN_MODE/DIS_MODE/RODATA_U;
{WRITE_REG_DATA8,0x0614,0x5C},//BSC_OFF/LIMITTER_BSC/-/DRESET_CONJ_U[4:0];
{WRITE_REG_DATA8,0x0615,0x04},//-/-/-/-/DRESET_CONJ_D[3:0];
{WRITE_REG_DATA8,0x0616,0x04},//FTLSNS_HIGH/-/FTLSNS_LBSC_U[5:0];
{WRITE_REG_DATA8,0x0617,0x00},//-/-/-/-/-/FTLSNS_LBSC_D[2:0];
{WRITE_REG_DATA8,0x0618,0x18},//-/FTLSNS_CONJ_W[6:0];
{WRITE_REG_DATA8,0x0619,0x04},//-/-/-/-/FTLSNS_CONJ_D[3:0];
{WRITE_REG_DATA8,0x061A,0x08},//SADR_HIGH/-/SADR_LBSC_U[5:0];
{WRITE_REG_DATA8,0x061B,0x00},//-/-/-/-/-/SADR_LBSC_D[2:0];
{WRITE_REG_DATA8,0x061C,0x2E},//SADR_CONJ_U[7:0];
{WRITE_REG_DATA8,0x061D,0x00},//-/-/-/-/SADR_CONJ_D[3:0];
{WRITE_REG_DATA8,0x061F,0x03},//ESREAD_ALT_OFF/-/-/ELEC_INJ_MODE/-/-/AUTO_READ_W/AUT;
{WRITE_REG_DATA8,0x0620,0x08},//-/-/-/-/FRAC_EXP_TIME[11:8];
{WRITE_REG_DATA8,0x0621,0x90},//FRAC_EXP_TIME[7:0];
{WRITE_REG_DATA8,0x0622,0x70},//ESREAD_1D[7:0];
{WRITE_REG_DATA8,0x0623,0x88},//ESREAD_1W[7:0];
{WRITE_REG_DATA8,0x0624,0x01},//-/-/-/-/-/-/ESREAD_2D[9:8];
{WRITE_REG_DATA8,0x0625,0x3D},//ESREAD_2D[7:0];
{WRITE_REG_DATA8,0x0626,0x88},//ESREAD_2W[7:0];
{WRITE_REG_DATA8,0x0627,0x24},//ESTGRESET_LOW/ESTGRESET_D[6:0];
{WRITE_REG_DATA8,0x0628,0x00},//ALLZEROSET_ON/EXTD_ROTGRESET/-/-/-/-/ROTGRESET_U[9:8];
{WRITE_REG_DATA8,0x0629,0xD8},//ROTGRESET_U[7:0];
{WRITE_REG_DATA8,0x062B,0x00},//ROREAD_U[7:0];
{WRITE_REG_DATA8,0x062C,0x88},//ROREAD_W[7:0];
{WRITE_REG_DATA8,0x062D,0x22},//ZEROSET_U[7:0];
{WRITE_REG_DATA8,0x062E,0x60},//ZEROSET_W[7:0];
{WRITE_REG_DATA8,0x062F,0x00},//-/-/FIX_RSTDRAIN[1:0]/FIX_RSTDRAIN2[1:0]/FIX_RSTDRAIN3[1:0;
{WRITE_REG_DATA8,0x0630,0x00},//-/RSTDRAIN_D[6:0];
{WRITE_REG_DATA8,0x0631,0x0F},//-/-/RSTDRAIN_U[5:0];
{WRITE_REG_DATA8,0x0632,0x07},//-/-/-/-/RSTDRAIN2_D[3:0];
{WRITE_REG_DATA8,0x0633,0x07},//-/-/-/-/RSTDRAIN2_U[3:0];
{WRITE_REG_DATA8,0x0634,0x04},//-/-/-/-/RSTDRAIN3_D[3:0];
{WRITE_REG_DATA8,0x0635,0x0D},//-/-/RSTDRAIN3_U[5:0];
{WRITE_REG_DATA8,0x0636,0x01},//-/-/DRCUT_SIGIN/DRCUT_HIGH/-/-/VSIGDR_MODE[1:0];
{WRITE_REG_DATA8,0x0637,0x01},//-/-/DRCUT_NML_U[5:0];
{WRITE_REG_DATA8,0x0638,0x20},//-/-/DRCUT_CGR_U[5:0];
{WRITE_REG_DATA8,0x0639,0x20},//-/-/DRCUT_CGR_D[5:0];
{WRITE_REG_DATA8,0x063A,0x30},//-/-/DRCUT_VDER_1U[5:0];
{WRITE_REG_DATA8,0x063B,0x04},//-/-/DRCUT_VDER_1D[5:0];
{WRITE_REG_DATA8,0x063C,0x30},//-/-/DRCUT_VDER_2U[5:0];
{WRITE_REG_DATA8,0x063D,0x04},//-/-/DRCUT_VDER_2D[5:0];
{WRITE_REG_DATA8,0x063E,0x00},//-/-/DRCUT_1ITV_MIN[1:0]/-/-/DRCUT_2ITV_MIN[1:0];
{WRITE_REG_DATA8,0x063F,0x2F},//GDMOSCNT_NML[3:0]/GDMOSCNT_VDER[3:0];
{WRITE_REG_DATA8,0x0640,0x01},//-/-/-/-/-/-/GDMOS_VDER_1U[1:0];
{WRITE_REG_DATA8,0x0641,0x04},//-/-/GDMOS_VDER_1D[5:0];
{WRITE_REG_DATA8,0x0642,0x01},//-/-/-/-/-/-/GDMOS_VDER_2U[1:0];
{WRITE_REG_DATA8,0x0643,0x04},//-/-/GDMOS_VDER_2D[5:0];
{WRITE_REG_DATA8,0x0644,0x00},//-/-/-/-/-/-/-/SIGIN_ON;
{WRITE_REG_DATA8,0x0645,0x01},//-/-/-/-/-/-/GDMOSLT_VDER_1W[1:0];
{WRITE_REG_DATA8,0x0646,0x60},//-/GDMOSLT_VDER_1D[6:0];
{WRITE_REG_DATA8,0x0647,0x01},//-/-/-/-/-/-/GDMOSLT_VDER_2W[1:0];
{WRITE_REG_DATA8,0x0648,0x60},//-/GDMOSLT_VDER_2D[6:0];
{WRITE_REG_DATA8,0x0649,0x01},//-/-/-/-/-/-/-/VSIGPU_LOW;
{WRITE_REG_DATA8,0x064A,0x0C},//VSIGPU_U[7:0];
{WRITE_REG_DATA8,0x064B,0x14},//-/VSIGPU_W[6:0];
{WRITE_REG_DATA8,0x064C,0x00},//-/-/-/-/-/-/-/ROTGRESET_W[8];
{WRITE_REG_DATA8,0x064D,0x12},//ROTGRESET_W[7:0];
{WRITE_REG_DATA8,0x0650,0x0E},//ADSW1_D[7:0];
{WRITE_REG_DATA8,0x0651,0x00},//ADSW1_HIGH/-/ADSW_U[5:0];
{WRITE_REG_DATA8,0x0652,0x07},//ADSW1DMX_LOW/-/-/ADSW1DMX_U[4:0];
{WRITE_REG_DATA8,0x0653,0x1C},//ADSW1LK_HIGH/ADSW1LK_D[6:0];
{WRITE_REG_DATA8,0x0654,0x1C},//ADSW1LKX_LOW/ADSW1LKX_U[6:0];
{WRITE_REG_DATA8,0x0655,0x80},//ADCMP1SRT_LOW/-/-/-/-/ADCMP1SRT_U[2:0];
{WRITE_REG_DATA8,0x0656,0x3D},//-/-/ADCMP1SRT_D[5:0];
{WRITE_REG_DATA8,0x0657,0x0E},//ADSW2_HIGH/-/ADSW2_D[5:0];
{WRITE_REG_DATA8,0x0658,0x07},//ADSW2DMX_LOW/-/-/ADSW2DMX_U[4:0];
{WRITE_REG_DATA8,0x0659,0x00},//FIX_ADENX[1:0]/ADENX_U[5:0];
{WRITE_REG_DATA8,0x065A,0x01},//-/-/ADENX_D[5:0];
{WRITE_REG_DATA8,0x065B,0x00},//-/-/CMPI_CGR_U[5:0];
{WRITE_REG_DATA8,0x065C,0x01},//-/-/CMPI_CGR_D[5:0];
{WRITE_REG_DATA8,0x065D,0xA3},//CMPI1_NML[3:0]/CMPI2_NML[3:0];
{WRITE_REG_DATA8,0x065E,0x33},//CMPI1_CGR[3:0]/CMPI2_CGR[3:0];
{WRITE_REG_DATA8,0x065F,0x00},//-/-/-/-/-/-/CGR_MODE/CDS_STOPBST;
{WRITE_REG_DATA8,0x0660,0x04},//BSTCKLFIX_HIGH/-/-/BSTCKLFIX_U[4:0];
{WRITE_REG_DATA8,0x0661,0x04},//-/-/-/BSTCKLFIX_D[4:0];
{WRITE_REG_DATA8,0x0662,0x20},//-/-/ADENX_CGR_U[5:0];
{WRITE_REG_DATA8,0x0663,0x20},//-/-/ADENX_CGR_D[5:0];
{WRITE_REG_DATA8,0x0664,0x00},//-/-/-/-/-/-/-/MS_ADV_INTVL[8];
{WRITE_REG_DATA8,0x0665,0xAE},//MS_ADV_INTVL[7:0];
{WRITE_REG_DATA8,0x0666,0x70},//MS_RSV_INTVL[7:0];
{WRITE_REG_DATA8,0x0667,0x03},//-/-/-/-/SINT_ZS_U[3:0];
{WRITE_REG_DATA8,0x0668,0x3B},//SINT_ZS_W[7:0];
{WRITE_REG_DATA8,0x0669,0x3B},//-/SINT_RS_U[6:0];
{WRITE_REG_DATA8,0x066A,0x59},//SINT_RS_W[7:0];
{WRITE_REG_DATA8,0x066B,0x1D},//SINT_FB_U[7:0];
{WRITE_REG_DATA8,0x066C,0x3B},//-/SINT_FB_W[6:0];
{WRITE_REG_DATA8,0x066D,0x01},//-/-/-/-/-/-/-/SINT_AD_U[8];
{WRITE_REG_DATA8,0x066E,0x0B},//SINT_AD_U[7:0];
{WRITE_REG_DATA8,0x066F,0x01},//-/-/-/-/-/-/-/SINT_AD_W[8];
{WRITE_REG_DATA8,0x0670,0x19},//SINT_AD_W[7:0];
{WRITE_REG_DATA8,0x0671,0x11},//-/-/SINTX_DSHIFT[1:0]/-/-/SINTX_USHIFT[1:0];
{WRITE_REG_DATA8,0x0672,0x1E},//SINT_MS_ZS_W[7:0];
{WRITE_REG_DATA8,0x0673,0x2B},//SINT_MS_RS_W[7:0];
{WRITE_REG_DATA8,0x0674,0x2E},//SINT_MS_RS_U[7:0];
{WRITE_REG_DATA8,0x0675,0x01},//-/-/-/-/-/-/-/SINT_MS_AD1_U[8];
{WRITE_REG_DATA8,0x0676,0x23},//SINT_MS_AD1_U[7:0];
{WRITE_REG_DATA8,0x0677,0x0F},//-/-/-/SINT_MS_FB_W[4:0];
{WRITE_REG_DATA8,0x0678,0x5F},//SINT_MS_AD_W[7:0];
{WRITE_REG_DATA8,0x0679,0x20},//-/SINT_MS_FB_D[6:0];
{WRITE_REG_DATA8,0x067A,0x6D},//SRST_RS_U[7:0];
{WRITE_REG_DATA8,0x067B,0x0D},//-/-/SRST_RS_W[5:0];
{WRITE_REG_DATA8,0x067C,0x97},//SRST_ZS_U[7:0];
{WRITE_REG_DATA8,0x067D,0x0D},//-/-/SRST_ZS_W[5:0];
{WRITE_REG_DATA8,0x067E,0x03},//-/-/-/-/SRST_AD_U[3:0];
{WRITE_REG_DATA8,0x067F,0x7D},//SRST_AD_D[7:0];
{WRITE_REG_DATA8,0x0680,0x60},//SRST_MS_AD4_D[7:0];
{WRITE_REG_DATA8,0x0681,0xBA},//SRST_MS_RS4_U[7:0];
{WRITE_REG_DATA8,0x0682,0x03},//-/-/-/-/SRST_MS_AD_U[3:0];
{WRITE_REG_DATA8,0x0683,0x0D},//-/-/SRST_MS_AD_W[5:0];
{WRITE_REG_DATA8,0x0684,0x03},//VREFSHBGR_LOW/-/-/-/VREFSHBGR_D[3:0];
{WRITE_REG_DATA8,0x0685,0x38},//-/-/VREFSHBGR_U[5:0];
{WRITE_REG_DATA8,0x0686,0xBC},//EN_VREFC_ZERO/-/VREF_H_START_U[5:0];
{WRITE_REG_DATA8,0x0687,0x00},//ADCKEN_MASK[1:0]/-/-/-/-/-/-;
{WRITE_REG_DATA8,0x0688,0x0B},//-/ADCKEN_1U[6:0];
{WRITE_REG_DATA8,0x0689,0x0C},//-/-/-/ADCKEN_1D[4:0];
{WRITE_REG_DATA8,0x068A,0x0B},//-/ADCKEN_2U[6:0];
{WRITE_REG_DATA8,0x068B,0x0C},//-/-/-/ADCKEN_2D[4:0];
{WRITE_REG_DATA8,0x068C,0x09},//-/-/-/-/CNTRSTX_U[3:0];
{WRITE_REG_DATA8,0x068D,0x0C},//-/-/-/CNT0RSTX_1D[4:0];
{WRITE_REG_DATA8,0x068E,0x09},//-/-/-/-/CNT0RSTX_2U[3:0];
{WRITE_REG_DATA8,0x068F,0x0C},//-/-/-/CNT0RSTX_2D[4:0];
{WRITE_REG_DATA8,0x0690,0x08},//-/-/-/CNTINVX_START[4:0];
{WRITE_REG_DATA8,0x0691,0x14},//EDCONX_1D[7:0];
{WRITE_REG_DATA8,0x0692,0x00},//EDCONX_RS_HIGH/EDCONX_AD_HIGH/-/-/-/-/-/EDCONX_2D[8];
{WRITE_REG_DATA8,0x0693,0x28},//EDCONX_2D[7:0];
{WRITE_REG_DATA8,0x0694,0x00},//ADTESTCK_INTVL[3:0]/-/-/ADTESTCK_ON/COUNTER_TEST;
{WRITE_REG_DATA8,0x0695,0x1F},//-/ADCKEN_MS_1U[6:0];
{WRITE_REG_DATA8,0x0696,0x1F},//-/ADCKEN_MS_2U[6:0];
{WRITE_REG_DATA8,0x0697,0x01},//EXT_VCD_ADJ_ON/MPS_AUTO_VCDADJ/-/AG_SEN_SHIFT/-/-/VCD_;
{WRITE_REG_DATA8,0x0698,0x00},//VCD_COEF_FIXVAL[7:0];
{WRITE_REG_DATA8,0x0699,0x00},//-/-/VCD_INTC_FIXVAL[5:0];
{WRITE_REG_DATA8,0x069A,0x1B},//VREFAD_RNG1_SEL[1:0]/VREFAD_RNG2_SEL[1:0]/VREFAD_RNG3_SEL[1:0];
{WRITE_REG_DATA8,0x069B,0x00},//-/-/-/-/-/-/AGADJ1_VREFI_ZS[9:8];
{WRITE_REG_DATA8,0x069C,0x3C},//AGADJ1_VREFI_ZS[7:0];
{WRITE_REG_DATA8,0x069D,0x00},//-/-/-/-/-/-/AGADJ2_VREFI_ZS[9:8];
{WRITE_REG_DATA8,0x069E,0x1E},//AGADJ2_VREFI_ZS[7:0];
{WRITE_REG_DATA8,0x069F,0x00},//-/-/-/-/-/-/-/AGADJ1_VREFI_AD[8];
{WRITE_REG_DATA8,0x06A0,0x78},//AGADJ1_VREFI_AD[7:0];
{WRITE_REG_DATA8,0x06A1,0x00},//-/-/-/-/-/-/-/AGADJ2_VREFI_AD[8];
{WRITE_REG_DATA8,0x06A2,0x3C},//AGADJ2_VREFI_AD[7:0];
{WRITE_REG_DATA8,0x06A3,0x06},//-/-/-/-/-/AGADJ_VREFC[2:0];
{WRITE_REG_DATA8,0x06A4,0x00},//EXT_VREFI_ZS_ON/-/-/-/-/-/VREFI_ZS_FIXVAL[9:8];
{WRITE_REG_DATA8,0x06A5,0x00},//VREFI_ZS_FIXVAL[7:0];
{WRITE_REG_DATA8,0x06A6,0x00},//EXT_VREFI_FB_ON/-/-/-/-/-/VREFI_FB_FIXVAL[9:8];
{WRITE_REG_DATA8,0x06A7,0x00},//VREFI_FB_FIXVAL[7:0];
{WRITE_REG_DATA8,0x06A9,0x02},//GDBSVDDSW_U[4:0]/NREGBSTEN/NREGBSTFNC[1:0];
{WRITE_REG_DATA8,0x06AA,0x00},//EXT_VREFC_ON/-/-/-/-/VREFC_FIXVAL[2:0];
{WRITE_REG_DATA8,0x06AB,0x04},//EXT_PLLFREQ_ON/-/-/-/PLLFREQ_FIXVAL[3:0];
{WRITE_REG_DATA8,0x06AC,0xBB},//PIXNREGBIASCNT[3:0]/CMPNREGBIASCNT[3:0];
{WRITE_REG_DATA8,0x06AD,0x40},//NREGBSTCNT[2:0]/PIXNREGEN/GDPXVDDEN/BSPXVDDEN/RGDBSVDDSRTX;
{WRITE_REG_DATA8,0x06AE,0xC0},//BC_LTPTM[1:0]/-/ACT_TESTDAC/-/-/AG_TEST/TESTDACEN;
{WRITE_REG_DATA8,0x06AF,0xFF},//TDAC_INT[7:0];
{WRITE_REG_DATA8,0x06B0,0x00},//TDAC_MIN[7:0];
{WRITE_REG_DATA8,0x06B1,0x10},//TDAC_STEP[3:0]/-/-/TDAC_SWD[1:0];
{WRITE_REG_DATA8,0x06B2,0x00},//PIXVREGFUNC[3:0]/CMPNREGEN/VREFNREGEN/RCVVDDSRTX/VSIGRCVDD;
{WRITE_REG_DATA8,0x06B3,0x00},//DACS_INT[7:0];
{WRITE_REG_DATA8,0x06B4,0xFF},//DACS_MAX[7:0];
{WRITE_REG_DATA8,0x06B5,0x10},//DACS_STEP[3:0]/-/-/DACS_SWD[1:0];
{WRITE_REG_DATA8,0x06B6,0x80},//TESTDAC_RSVOL[7:0];
{WRITE_REG_DATA8,0x06B7,0x60},//TESTDAC_ADVOL[7:0];
{WRITE_REG_DATA8,0x06B8,0x62},//ZSV_EXEC_MODE[3:0]/-/AGADJ_EXEC_MODE[2:0];
{WRITE_REG_DATA8,0x06B9,0x02},//MPS_AGADJ_MODE/AGADJ_CALC_MODE/-/-/AGADJ_FIX_COEF[11:8];
{WRITE_REG_DATA8,0x06BA,0x06},//AGADJ_FIX_COEF[7:0];
{WRITE_REG_DATA8,0x06BB,0xF1},//ZSV_FORCE_END[3:0]/-/-/ZSV_SUSP_RANGE[1:0];
{WRITE_REG_DATA8,0x06BC,0x86},//ZSV_SUSP_CND/-/-/-/EN_PS_VREFI_ZS[3:0];
{WRITE_REG_DATA8,0x06BD,0x10},//VZS_MPS_STEP[7:0];
{WRITE_REG_DATA8,0x06BE,0xA0},//ZSV_LEVEL[7:0];
{WRITE_REG_DATA8,0x06BF,0x10},//-/-/ZSV_IN_RANGE[5:0];
{WRITE_REG_DATA8,0x06C0,0xC7},//PS_VZS_NML_COEF[7:0];
{WRITE_REG_DATA8,0x06C1,0x00},//-/PS_VZS_NML_INTC[6:0];
{WRITE_REG_DATA8,0x06C2,0x10},//VZS_NML_STEP[7:0];
{WRITE_REG_DATA8,0x06C3,0x44},//ZSV_STOP_CND[1:0]/-/-/ZSV_IN_LINES[3:0];
{WRITE_REG_DATA8,0x06C4,0xC7},//PS_VZS_MPS_COEF[7:0];
{WRITE_REG_DATA8,0x06C5,0x01},//-/PS_VZS_MPS_INTC[6:0];
{WRITE_REG_DATA8,0x06C6,0x18},//-/FBC_IN_RANGE[6:0];
{WRITE_REG_DATA8,0x06C7,0x44},//FBC_SUSP_RANGE[1:0]/-/FBC_IN_LINES[4:0];
{WRITE_REG_DATA8,0x06C8,0x44},//FBC_OUT_RANGE[1:0]/-/FBC_OUT_LINES[4:0];
{WRITE_REG_DATA8,0x06C9,0x20},//FBC_STOP_CND[2:0]/-/-/-/-/-;
{WRITE_REG_DATA8,0x06CA,0x41},//FBC_START_CND[2:0]/-/VREFI_FB_STEP[3:0];
{WRITE_REG_DATA8,0x06CB,0x82},//FBC_SUSP_CND/-/-/-/EN_PS_VREFI_FB[3:0];
{WRITE_REG_DATA8,0x06CC,0xC0},//PS_VREFI_FB_AG/LIM_START_FBC/-/-/-/-/-/-;
{WRITE_REG_DATA8,0x06CD,0x00},//-/-/-/ST_CKI[4:0];
{WRITE_REG_DATA8,0x06CE,0x30},//-/ST_BLACK_LEVEL[6:0];
{WRITE_REG_DATA8,0x06CF,0xF0},//ST_RSVD_REG[7:0];
{WRITE_REG_DATA8,0x06E5,0x22},//RORDDWSTMD/VDDRD28EN_1U[2:0]/-/VDDRD28EN_1D[2:0];
{WRITE_REG_DATA8,0x06E6,0x22},//-/BSTRDCUT_1U[2:0]/-/BSTRDCUT_1D[2:0];
{WRITE_REG_DATA8,0x06E7,0x22},//ESRDDWSTMD/VDDRD28EN_2U[2:0]/-/VDDRD28EN_2D[2:0];
{WRITE_REG_DATA8,0x06E8,0x22},//-/BSTRDCUT_2U[2:0]/-/BSTRDCUT_2D[2:0];
{WRITE_REG_DATA8,0x06E9,0x01},//-/-/GDMOS_CGR_D[5:0];
{WRITE_REG_DATA8,0x06EA,0x01},//-/-/-/-/GDMOSCNT_CGR[3:0];
{WRITE_REG_DATA8,0x06EB,0x02},//-/-/VOB_DISP/HOB_DISP/VENL_OFF/STP_VCNT_FRM[2:0];
{WRITE_REG_DATA8,0x06EC,0x00},//-/-/-/PS_VFB_NML_COEF[4:0];
{WRITE_REG_DATA8,0x06ED,0x00},//-/-/-/-/PS_VFB_NML_INTC[3:0];
{WRITE_REG_DATA8,0x06EE,0x00},//-/-/-/PS_VFB_MPS_COEF[4:0];
{WRITE_REG_DATA8,0x06EF,0x00},//-/-/-/-/PS_VFB_MPS_INTC[3:0];
{WRITE_REG_DATA8,0x06F0,0x00},//-/-/-/PS_VFB_NML1[4:0];
{WRITE_REG_DATA8,0x06F1,0x1E},//-/-/-/PS_VFB_NML2[4:0];
{WRITE_REG_DATA8,0x06F2,0x1C},//-/-/-/PS_VFB_NML3[4:0];
{WRITE_REG_DATA8,0x06F3,0x18},//-/-/-/PS_VFB_NML4[4:0];
{WRITE_REG_DATA8,0x06F4,0x1F},//-/-/-/PS_VFB_MPS1[4:0];
{WRITE_REG_DATA8,0x06F5,0x1D},//-/-/-/PS_VFB_MPS2[4:0];
{WRITE_REG_DATA8,0x06F6,0x1B},//-/-/-/PS_VFB_MPS3[4:0];
{WRITE_REG_DATA8,0x06F7,0x17},//-/-/-/PS_VFB_MPS4[4:0];
{WRITE_REG_DATA8,0x06F8,0x44},//BSC_ULMT_AGRNG2[7:0];
{WRITE_REG_DATA8,0x06F9,0x50},//BSC_ULMT_AGRNG1[7:0];
{WRITE_REG_DATA8,0x06FA,0x60},//BSC_ULMT_AGRNG0[7:0];
{WRITE_REG_DATA8,0x06FB,0x87},//KBIASCNT_RNG3[3:0]/KBIASCNT_RNG2[3:0];
{WRITE_REG_DATA8,0x06FC,0x64},//KBIASCNT_RNG1[3:0]/KBIASCNT_RNG0[3:0];
{WRITE_REG_DATA8,0x06FD,0x0F},//-/-/-/-/LIMIT_BSC_MODE[3:0];
{WRITE_REG_DATA8,0x0700,0x02},//SOCD[7:0];
{WRITE_REG_DATA8,0x0701,0x03},//SOEI[7:0];
{WRITE_REG_DATA8,0x0702,0x04},//EOEI[7:0];
{WRITE_REG_DATA8,0x0703,0xBC},//SOSI[7:0];
{WRITE_REG_DATA8,0x0704,0xBD},//EOSI[7:0];
{WRITE_REG_DATA8,0x0706,0x00},//-/-/-/SERI_ON_SW/-/-/-/SERI_ON_MN;
{WRITE_REG_DATA8,0x0707,0x04},//-/-/-/-/JTIMES[3:0];
{WRITE_REG_DATA8,0x0710,0x68},//TCLK_POST[7:3]/-/-/-;
{WRITE_REG_DATA8,0x0711,0x28},//THS_PREPARE[7:3]/-/-/-;
{WRITE_REG_DATA8,0x0712,0x60},//THS_ZERO[7:3]/-/-/-;
{WRITE_REG_DATA8,0x0713,0x38},//THS_TRAIL[7:3]/-/-/-;
{WRITE_REG_DATA8,0x0714,0x38},//TCLK_TRAIL[7:3]/-/-/-;
{WRITE_REG_DATA8,0x0715,0x28},//TCLK_PREPARE[7:3]/-/-/-;
{WRITE_REG_DATA8,0x0716,0xC8},//TCLK_ZERO[7:3]/-/-/-;
{WRITE_REG_DATA8,0x0717,0x30},//TLPX[7:3]/-/-/-;
{WRITE_REG_DATA8,0x0718,0x03},//-/-/-/-/-/-/LNKBTWK_ON/LNKBT_ON;
{WRITE_REG_DATA8,0x0719,0x02},//MSB_LBRATE[31:24];
{WRITE_REG_DATA8,0x071A,0xA8},//MSB_LBRATE[23:16];
{WRITE_REG_DATA8,0x0721,0x00},//-/-/-/-/-/-/CLKULPS/ESCREQ;
{WRITE_REG_DATA8,0x0724,0x00},//-/-/-/-/-/MIPI_JPEG_ID[2:0];
{WRITE_REG_DATA8,0x0725,0x78},//ESCDATA[7:0];
{WRITE_REG_DATA8,0x0727,0x00},//LVDS_D1_DELAY[3:0]/LVDS_CLK_DELAY[3:0];
{WRITE_REG_DATA8,0x0728,0x40},//-/PHASE_ADJUST[2:0]/-/-/HS_SR_CNT/LP_SR_CNT;
{WRITE_REG_DATA8,0x072A,0x00},//PN9/-/-/-/MIPI_TEST_MODE[3:0];
{WRITE_REG_DATA8,0x072B,0x00},//T_VALUE1[7:0];
{WRITE_REG_DATA8,0x072C,0x00},//T_VALUE2[7:0];
{WRITE_REG_DATA8,0x072D,0x00},//-/-/-/-/-/-/-/MIPI_CLK_MODE;
{WRITE_REG_DATA8,0x072E,0x00},//-/-/-/-/LB_TEST_CLR/LB_TEST_EN/-/LB_MODE;
{WRITE_REG_DATA8,0x0730,0x00},//-/-/-/-/-/-/FIFODLY[9:8];
{WRITE_REG_DATA8,0x0731,0x00},//FIFODLY[7:0];
{WRITE_REG_DATA8,0x0732,0xA7},//NUMWAKE[7:0];
{WRITE_REG_DATA8,0x0734,0x5F},//RV_MAT[7:0];
{WRITE_REG_DATA8,0x0735,0x55},//GU_MAT[7:0];
{WRITE_REG_DATA8,0x0736,0xB3},//GV_MAT[7:0];
{WRITE_REG_DATA8,0x0737,0xBD},//BU_MAT[7:0];
{WRITE_REG_DATA8,0x0740,0x3E},//JPG_QTBLNUM[7:0];
{WRITE_REG_DATA8,0x0741,0x3C},//JPG_HTBLNUM[7:0];
{WRITE_REG_DATA8,0x0742,0x00},//JPG_DRIH[7:0];
{WRITE_REG_DATA8,0x0743,0x00},//JPG_DRIL[7:0];
{WRITE_REG_DATA8,0x0744,0x00},//-/-/-/JPG_PROC[1:0]/-/-/-;
{WRITE_REG_DATA8,0x0745,0x00},//-/-/-/-/-/JPG_CTRL[2:0];
{WRITE_REG_DATA8,0x0746,0x01},//-/-/-/-/-/JPG_START[2:0];
{WRITE_REG_DATA8,0x074E,0x00},//JP_SPARE[7:0];
{WRITE_REG_DATA8,0x074F,0x00},//JP_SPARE[15:8];
{WRITE_REG_DATA8,0x0F00,0x00},//-/-/-/T_DACTEST/-/T_TMOSEL[2:0];
{WRITE_REG_DATA8,0x0F01,0x00},//-/-/-/T_OUTSEL[4:0];
{WRITE_REG_DATA8,0x0100,0x01},//-/-/-/-/-/-/-/MODSEL;
{WRITE_REG_DATA8,0x0100,0x01},//STREAM ON;
{WRITE_REG_DATA8,0x2400,0x03},//
{WRITE_REG_DATA8,0x2400,0x02},//
{WRITE_REG_DATA8,0x27FF,0xF0},//ENABLE DRIVER;
{WRITE_REG_DATA8,0x2401,0x00},//INF MSB[1:0];
{WRITE_REG_DATA8,0x2402,0x50},//INF LSB[7:0];
{WRITE_REG_DATA8,0x27FF,0xF1},//SET_INF_POSITION;
{WRITE_REG_DATA8,0x2401,0x01},//MAC MSB[1:0];
{WRITE_REG_DATA8,0x2402,0xF0},//MAC LSB[7:0];
{WRITE_REG_DATA8,0x27FF,0xF2},//SET_MACRO_POSITION;
{WRITE_REG_DATA8,0x2401,0x40},//
{WRITE_REG_DATA8,0x2402,0x40},//
{WRITE_REG_DATA8,0x2403,0x00},//
{WRITE_REG_DATA8,0x27FF,0x62},//
{WRITE_REG_DATA8,0x2401,0x42},//
{WRITE_REG_DATA8,0x2402,0x80},//
{WRITE_REG_DATA8,0x2403,0x00},//
{WRITE_REG_DATA8,0x27FF,0x62},//
{WRITE_REG_DATA8,0x2401,0x44},//
{WRITE_REG_DATA8,0x2402,0x14},//
{WRITE_REG_DATA8,0x27FF,0x61},//
{WRITE_REG_DATA8,0x2401,0x48},//
{WRITE_REG_DATA8,0x2402,0x13},//
{WRITE_REG_DATA8,0x27FF,0x61},//
{WRITE_REG_DATA8,0x2401,0x4C},//
{WRITE_REG_DATA8,0x2402,0x12},//
{WRITE_REG_DATA8,0x27FF,0x61},//
{WRITE_REG_DATA8,0x2401,0x45},//
{WRITE_REG_DATA8,0x2402,0x00},//
{WRITE_REG_DATA8,0x27FF,0x61},//
{WRITE_REG_DATA8,0x2401,0x46},//
{WRITE_REG_DATA8,0x2402,0x00},//
{WRITE_REG_DATA8,0x2403,0x00},//
{WRITE_REG_DATA8,0x27FF,0x62},//
{WRITE_REG_DATA8,0x2401,0x49},//
{WRITE_REG_DATA8,0x2402,0x00},//
{WRITE_REG_DATA8,0x27FF,0x61},//
{WRITE_REG_DATA8,0x2401,0x4A},//
{WRITE_REG_DATA8,0x2402,0x00},//
{WRITE_REG_DATA8,0x2403,0x00},//
{WRITE_REG_DATA8,0x27FF,0x62},//
{WRITE_REG_DATA8,0x2401,0x4D},//
{WRITE_REG_DATA8,0x2402,0x00},//
{WRITE_REG_DATA8,0x27FF,0x61},//
{WRITE_REG_DATA8,0x2401,0x4E},//
{WRITE_REG_DATA8,0x2402,0x2C},//
{WRITE_REG_DATA8,0x2403,0x01},//
{WRITE_REG_DATA8,0x27FF,0x62},//
{WRITE_REG_DATA8,0x2401,0x00},//SET DEFAULT POSITION=0;
{WRITE_REG_DATA8,0x27FF,0x3F},//INITIALIZE;
{WRITE_REG_DATA8,0x2401,0x16},//
{WRITE_REG_DATA8,0x2402,0x13},//
{WRITE_REG_DATA8,0x27FF,0xE1},//
{WRITE_REG_DATA8,0x2401,0x15},//
{WRITE_REG_DATA8,0x2402,0x33},//
{WRITE_REG_DATA8,0x27FF,0xE1},//set window pos;

{WRITE_REG_DATA8,0x0420,0x02},//PWBGAINGR[7:0];
{WRITE_REG_DATA8,0x0421,0x02},//PWBGAINGB[7:0];
{WRITE_REG_DATA8,0x0422,0x46},//PWBGAINR[7:0];
{WRITE_REG_DATA8,0x0423,0x5E},//PWBGAINB[7:0];
{WRITE_REG_DATA8,0x0426,0x00},//-/-/-/-/-/-/LIPOL/CSPOL;
{WRITE_REG_DATA8,0x0427,0x10},//-/LS4SIG[2:0]/-/LS1SIG[2:0] polarity  4th -/B/R/g/  1st -/B/R/G;
{WRITE_REG_DATA8,0x0428,0x68},//LSHOFG[7:0] // H Center position;
{WRITE_REG_DATA8,0x0429,0x7A},//LSHOFR[7:0];
{WRITE_REG_DATA8,0x042A,0x80},//LSHOFB[7:0];
{WRITE_REG_DATA8,0x042B,0x80},//LSVOFG[7:0] // V Center position;
{WRITE_REG_DATA8,0x042C,0x80},//LSVOFR[7:0];
{WRITE_REG_DATA8,0x042D,0x80},//LSVOFB[7:0];
{WRITE_REG_DATA8,0x042E,0x00},//LSALUG[7:0] // Up Left G  ### 1st order ###;
{WRITE_REG_DATA8,0x042F,0x04},//LSALUR[7:0] //         R;
{WRITE_REG_DATA8,0x0430,0x04},//LSALUB[7:0] //         B;
{WRITE_REG_DATA8,0x0431,0x08},//LSARUG[7:0] // Up Right G;
{WRITE_REG_DATA8,0x0432,0x00},//LSARUR[7:0] //          R;
{WRITE_REG_DATA8,0x0433,0x08},//LSARUB[7:0] //          B;
{WRITE_REG_DATA8,0x0434,0x00},//LSALDG[7:0] // Bottom Left G;
{WRITE_REG_DATA8,0x0435,0x00},//LSALDR[7:0] //             R;
{WRITE_REG_DATA8,0x0436,0x00},//LSALDB[7:0] //             B;
{WRITE_REG_DATA8,0x0437,0x04},//LSARDG[7:0] // Bottom Right G;
{WRITE_REG_DATA8,0x0438,0x26},//LSARDR[7:0] //              R;
{WRITE_REG_DATA8,0x0439,0x10},//LSARDB[7:0] //              B;
{WRITE_REG_DATA8,0x043A,0x9E},//LSBLG[7:0]  // Left  G   ## 2nd order ##;
{WRITE_REG_DATA8,0x043B,0x97},//LSBLR[7:0]  //       R;
{WRITE_REG_DATA8,0x043C,0x66},//LSBLB[7:0]  //       B;
{WRITE_REG_DATA8,0x043D,0x9F},//LSBRG[7:0]  // Right G;
{WRITE_REG_DATA8,0x043E,0xC3},//LSBRR[7:0]  //       R;
{WRITE_REG_DATA8,0x043F,0x8C},//LSBRB[7:0]  //       B;
{WRITE_REG_DATA8,0x0440,0x2A},//LSCUG[7:0]  // Up    G;
{WRITE_REG_DATA8,0x0441,0x41},//LSCUR[7:0]  //       R;
{WRITE_REG_DATA8,0x0442,0x32},//LSCUB[7:0]  //       B;
{WRITE_REG_DATA8,0x0443,0x53},//LSCDG[7:0]  // Bottom G;
{WRITE_REG_DATA8,0x0444,0x57},//LSCDR[7:0]  //        R;
{WRITE_REG_DATA8,0x0445,0x41},//LSCDB[7:0]  //        B;
{WRITE_REG_DATA8,0x0446,0x60},//LSDLG[7:0]  // Left  G   ## 4th order ##;
{WRITE_REG_DATA8,0x0447,0x00},//LSDLR[7:0]  //       R;
{WRITE_REG_DATA8,0x0448,0x00},//LSDLB[7:0]  //       B;
{WRITE_REG_DATA8,0x0449,0x00},//LSDRG[7:0]  // Right G;
{WRITE_REG_DATA8,0x044A,0x70},//LSDRR[7:0]  //       R;
{WRITE_REG_DATA8,0x044B,0x20},//LSDRB[7:0]  //       B;
{WRITE_REG_DATA8,0x044C,0x20},//LSEUG[7:0]  // Up    G;
{WRITE_REG_DATA8,0x044D,0x30},//LSEUR[7:0]  //       R;
{WRITE_REG_DATA8,0x044E,0x00},//LSEUB[7:0]  //       B;
{WRITE_REG_DATA8,0x044F,0x38},//LSEDG[7:0]  // Bottom G;
{WRITE_REG_DATA8,0x0450,0x00},//LSEDR[7:0]  //        R;
{WRITE_REG_DATA8,0x0451,0x00},//LSEDB[7:0]  //        B;
{WRITE_REG_DATA8,0x0452,0x00},//-/-/-/-/LSAG_L[3:0] // G linear gain for dark condition 0h: 0x 1h:;
{WRITE_REG_DATA8,0x0453,0x00},//-/-/-/-/LSAR_L[3:0] // R;
{WRITE_REG_DATA8,0x0454,0x00},//-/-/-/-/LSAB_L[3:0] // B;
{WRITE_REG_DATA8,0x0455,0x00},//LSBLG_L[3:0]/LSBRG_L[3:0];
{WRITE_REG_DATA8,0x0456,0x00},//LSBLR_L[3:0]/LSBRR_L[3:0];
{WRITE_REG_DATA8,0x0457,0x00},//LSBLB_L[3:0]/LSBRB_L[3:0];
{WRITE_REG_DATA8,0x0458,0x00},//LSCUG_L[3:0]/LSCDG_L[3:0];
{WRITE_REG_DATA8,0x0459,0x00},//LSCUR_L[3:0]/LSCDR_L[3:0];
{WRITE_REG_DATA8,0x045A,0x00},//LSCUB_L[3:0]/LSCDB_L[3:0];
{WRITE_REG_DATA8,0x045B,0x80},//LSHCNT_MPY[7:0];
{WRITE_REG_DATA8,0x045C,0x01},//-/-/-/-/LSVCNT_MPY[11:8];
{WRITE_REG_DATA8,0x045D,0x9F},//LSVCNT_MPY[7:0];
{WRITE_REG_DATA8,0x045E,0x02},//-/-/-/-/-/-/LSMGSEL[1:0];
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg mode_2592x1944[] ={
{WRITE_REG_DATA8,0x0102,0x03},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD
{WRITE_REG_DATA8,0x0137,0x01},//-/-/-/-/-/PRE_PLL_CNTL[2:0];
{WRITE_REG_DATA8,0x0138,0x00},//-/-/-/-/-/-/-/PLL_MULTI[8];
{WRITE_REG_DATA8,0x0139,0x39},//PLL_MULTI[7:0];
{WRITE_REG_DATA8,0x013A,0x03},//-/-/-/-/VT_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013B,0x01},//-/-/-/-/OP_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013C,0x05},//-/-/-/-/VT_PIX_CNTL[3:0];
{WRITE_REG_DATA8,0x013D,0x00},//-/-/PLL_SNR_CNTL[1:0]/-/-/PLL_SYS_CNTL[1:0];
{WRITE_REG_DATA8,0x0148,0x18},//EXTCLK_FRQ_MHZ[15:8];
{WRITE_REG_DATA8,0x0149,0x00},//EXTCLK_FRQ_MHZ[7:0];
{WRITE_REG_DATA8,0x0105,0x01},//-/-/-/-/-/H_COUNT[10:8];
{WRITE_REG_DATA8,0x0106,0x68},//H_COUNT[7:0];
{WRITE_REG_DATA8,0x0107,0x00},//-/-/-/-/-/V_COUNT[10:8];
{WRITE_REG_DATA8,0x0108,0xF7},//V_COUNT[7:0];
{WRITE_REG_DATA8,0x0109,0x00},//-/-/-/-/-/-/-/SCALE_M[8];
{WRITE_REG_DATA8,0x010A,0x10},//SCAL_M[7:0];
{WRITE_REG_DATA8,0x010B,0x00},//-/V_ANABIN[2:0]/-/-/-/H_ANABIN;
{WRITE_REG_DATA8,0x010D,0x0A},//-/-/-/-/HOUTPIX[11:8];
{WRITE_REG_DATA8,0x010E,0x20},//HOUTPIX[7:0];
{WRITE_REG_DATA8,0x010F,0x07},//-/-/-/-/-/VOUTPIX[10:8];
{WRITE_REG_DATA8,0x0110,0x98},//VOUTPIX[7:0];
{WRITE_REG_DATA8,0x0111,0x00},//-/-/-/-/-/-/HCROP[1:0];
{WRITE_REG_DATA8,0x0112,0x00},//-/-/-/-/-/-/VCROP[9:8];
{WRITE_REG_DATA8,0x0113,0x00},//VCROP[7:0];
{WRITE_REG_DATA8,0x0316,0x26},//FLLONGON/FRMSPD[1:0]/FL600S[12:8];
{WRITE_REG_DATA8,0x0317,0x99},//FL600S[7:0];
{WRITE_REG_DATA8,0x0102,0x02},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD
{WRITE_REG_DATA8,0x0300,0x00},//-/-/-/-/-/-/ALCSW/ALCLOCK;
{WRITE_REG_DATA8,0x0315,0x08},////FAUTO/FCOUNT[2:0]/FCLSBON/EXPLIM[2:0];
						  
{SENSOR_WAIT_MS, 0x0000, 0xff},		// delay=100
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg mode_960x720[] ={
{WRITE_REG_DATA8,0x0102,0x03},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD;
{WRITE_REG_DATA8,0x0137,0x01},//-/-/-/-/-/PRE_PLL_CNTL[2:0];
{WRITE_REG_DATA8,0x0138,0x00},//-/-/-/-/-/-/-/PLL_MULTI[8];
{WRITE_REG_DATA8,0x0139,0x39},//PLL_MULTI[7:0];
{WRITE_REG_DATA8,0x013A,0x03},//-/-/-/-/VT_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013B,0x01},//-/-/-/-/OP_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013C,0x05},//-/-/-/-/VT_PIX_CNTL[3:0];
{WRITE_REG_DATA8,0x013D,0x00},//-/-/PLL_SNR_CNTL[1:0]/-/-/PLL_SYS_CNTL[1:0];
{WRITE_REG_DATA8,0x0148,0x18},//EXTCLK_FRQ_MHZ[15:8];
{WRITE_REG_DATA8,0x0149,0x00},//EXTCLK_FRQ_MHZ[7:0];
{WRITE_REG_DATA8,0x0105,0x00},//-/-/-/-/-/H_COUNT[10:8];
{WRITE_REG_DATA8,0x0106,0xB8},//H_COUNT[7:0];
{WRITE_REG_DATA8,0x0107,0x00},//-/-/-/-/-/V_COUNT[10:8];
{WRITE_REG_DATA8,0x0108,0x7E},//V_COUNT[7:0];
{WRITE_REG_DATA8,0x0109,0x00},//-/-/-/-/-/-/-/SCALE_M[8];
{WRITE_REG_DATA8,0x010A,0x2B},//SCAL_M[7:0];
{WRITE_REG_DATA8,0x010B,0x11},//-/V_ANABIN[2:0]/-/-/-/H_ANABIN;
{WRITE_REG_DATA8,0x010D,0x03},//-/-/-/-/HOUTPIX[11:8];
{WRITE_REG_DATA8,0x010E,0xC0},//HOUTPIX[7:0];
{WRITE_REG_DATA8,0x010F,0x02},//-/-/-/-/-/VOUTPIX[10:8];
{WRITE_REG_DATA8,0x0110,0xD0},//VOUTPIX[7:0];
{WRITE_REG_DATA8,0x0111,0x00},//-/-/-/-/-/-/HCROP[1:0];
{WRITE_REG_DATA8,0x0112,0x00},//-/-/-/-/-/-/VCROP[9:8];
{WRITE_REG_DATA8,0x0113,0x00},//VCROP[7:0];
{WRITE_REG_DATA8,0x0316,0x6C},//FLLONGON/FRMSPD[1:0]/FL600S[12:8];
{WRITE_REG_DATA8,0x0317,0xE9},//FL600S[7:0];
{WRITE_REG_DATA8,0x0102,0x02},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD;
{WRITE_REG_DATA8,0x0233,0xFF},//YNC_LIM1[3:0]/YNC_LIM0[3:0];
{WRITE_REG_DATA8,0x0234,0x0F},//-/-/-/-/YNC_LIM2[3:0];
{WRITE_REG_DATA8,0x0235,0x0E},//-/-/-/-/YNC_GAIN[3:0];
{WRITE_REG_DATA8,0x0225,0x80},//Cb_GAIN[7:0];
{WRITE_REG_DATA8,0x0228,0x80},//Cr_GAIN[7:0];
{WRITE_REG_DATA8,0x0229,0x4E},//Cbr_MGAIN1[3:0]/Cbr_MGAIN0[3:0];
{WRITE_REG_DATA8,0x022A,0x05},//-/-/-/-/Cbr_MGAIN2[3:0];
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0248,0xC0},//BRIGHT[7:0];
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x0413,0x66},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x08},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x33},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0C},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x08},//-/-/-/-/EGGAIN[3:0];
#else
{WRITE_REG_DATA8,0x0248,0xe6},//BRIGHT[7:0];//c0
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x0413,0x88},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x0F},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x43},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0F},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x0F},//-/-/-/-/EGGAIN[3:0];
{WRITE_REG_DATA8,0x0418,0x00},//HNCLIM1[3:0]/HNCLIM0[3:0];
#endif
{WRITE_REG_DATA8,0x0408,0x33},//HNCLIM1[3:0]/HNCLIM0[3:0];
{WRITE_REG_DATA8,0x0409,0x0C},//-/-/-/-/HNCLIM2[3:0];
{WRITE_REG_DATA8,0x040A,0x03},//-/-/-/-/LDNRGA[3:0];
{WRITE_REG_DATA8,0x040B,0x73},//VNRLIM1[3:0]/VNRLIM0[3:0];
{WRITE_REG_DATA8,0x040C,0x0F},//-/-/-/-/VNRLIM2[3:0];
{WRITE_REG_DATA8,0x040D,0x08},//-/-/-/-/VNRG[3:0];
{WRITE_REG_DATA8,0x0300,0x02},//-/-/-/-/-/-/ALCSW/ALCLOCK;
{WRITE_REG_DATA8,0x0320,0x81},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];
{WRITE_REG_DATA8,0x0321,0x00},//WBMRG[7:0];
{WRITE_REG_DATA8,0x0322,0x3D},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0x00},//WBMGG[7:0];
{WRITE_REG_DATA8,0x0324,0x11},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];
{WRITE_REG_DATA8,0x0325,0x00},//WBMBG[7:0];
{WRITE_REG_DATA8,0x0315,0x98},//////FAUTO/FCOUNT[2:0]/FCLSBON/EXPLIM[2:0];
{WRITE_REG_DATA8,0x0114,0x00},//////-/-/-/-/OUTPUT_FORMAT[3:0];
{WRITE_REG_DATA8,0x0F00,0x00},//////-/-/-/-/OUTPUT_FORMAT[3:0];
					  
{SENSOR_WAIT_MS, 0x0000, 0xff},		// delay=100
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg mode_1280x720[] = {
//fps
{WRITE_REG_DATA8,0x0102,0x03},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD
{WRITE_REG_DATA8,0x0137,0x01},//-/-/-/-/-/PRE_PLL_CNTL[2:0];
{WRITE_REG_DATA8,0x0138,0x00},//-/-/-/-/-/-/-/PLL_MULTI[8];
{WRITE_REG_DATA8,0x0139,0x39},//PLL_MULTI[7:0];
{WRITE_REG_DATA8,0x013A,0x03},//-/-/-/-/VT_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013B,0x01},//-/-/-/-/OP_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013C,0x05},//-/-/-/-/VT_PIX_CNTL[3:0];


{WRITE_REG_DATA8,0x013D,0x00},//-/-/PLL_SNR_CNTL[1:0]/-/-/PLL_SYS_CNTL[1:0];
{WRITE_REG_DATA8,0x0148,0x18},//EXTCLK_FRQ_MHZ[15:8];
{WRITE_REG_DATA8,0x0149,0x00},//EXTCLK_FRQ_MHZ[7:0];

{WRITE_REG_DATA8,0x0105,0x00},//-/-/-/-/-/H_COUNT[10:8];
{WRITE_REG_DATA8,0x0106,0xB8},//H_COUNT[7:0];
{WRITE_REG_DATA8,0x0107,0x00},//-/-/-/-/-/V_COUNT[10:8];
{WRITE_REG_DATA8,0x0108,0x7E},//V_COUNT[7:0];

{WRITE_REG_DATA8,0x0109,0x00},//-/-/-/-/-/-/-/SCALE_M[8];
{WRITE_REG_DATA8,0x010A,0x20},//SCAL_M[7:0];
{WRITE_REG_DATA8,0x010B,0x11},//-/V_ANABIN[2:0]/-/-/-/H_ANABIN;
{WRITE_REG_DATA8,0x010D,0x05},//-/-/-/-/HOUTPIX[11:8];
{WRITE_REG_DATA8,0x010E,0x00},//HOUTPIX[7:0];
{WRITE_REG_DATA8,0x010F,0x02},//-/-/-/-/-/VOUTPIX[10:8];
{WRITE_REG_DATA8,0x0110,0xD0},//VOUTPIX[7:0];
{WRITE_REG_DATA8,0x0111,0x00},//-/-/-/-/-/-/HCROP[1:0];
{WRITE_REG_DATA8,0x0112,0x00},//-/-/-/-/-/-/VCROP[9:8];
{WRITE_REG_DATA8,0x0113,0x00},//VCROP[7:0];
{WRITE_REG_DATA8,0x0316,0x6C},//FLLONGON/FRMSPD[1:0]/FL600S[12:8];
{WRITE_REG_DATA8,0x0317,0xE9},//FL600S[7:0];
{WRITE_REG_DATA8,0x0102,0x02},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD
{WRITE_REG_DATA8,0x0233,0xFF},//YNC_LIM1[3:0]/YNC_LIM0[3:0];
{WRITE_REG_DATA8,0x0234,0x0F},//-/-/-/-/YNC_LIM2[3:0];
{WRITE_REG_DATA8,0x0235,0x0E},//-/-/-/-/YNC_GAIN[3:0];
{WRITE_REG_DATA8,0x0225,0x80},//Cb_GAIN[7:0];
{WRITE_REG_DATA8,0x0228,0x80},//Cr_GAIN[7:0];
{WRITE_REG_DATA8,0x0229,0x4E},//Cbr_MGAIN1[3:0]/Cbr_MGAIN0[3:0];
{WRITE_REG_DATA8,0x022A,0x05},//-/-/-/-/Cbr_MGAIN2[3:0];
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0248,0xC0},//BRIGHT[7:0];
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x0413,0x66},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x08},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x33},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0C},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x08},//-/-/-/-/EGGAIN[3:0];
#else
{WRITE_REG_DATA8,0x0248,0xe6},//BRIGHT[7:0];//c0
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x0413,0x88},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x0F},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x43},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0F},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x0F},//-/-/-/-/EGGAIN[3:0];
{WRITE_REG_DATA8,0x0418,0x00},//HNCLIM1[3:0]/HNCLIM0[3:0];
#endif
{WRITE_REG_DATA8,0x0408,0x33},//HNCLIM1[3:0]/HNCLIM0[3:0];
{WRITE_REG_DATA8,0x0409,0x0C},//-/-/-/-/HNCLIM2[3:0];
{WRITE_REG_DATA8,0x040A,0x03},//-/-/-/-/LDNRGA[3:0];
{WRITE_REG_DATA8,0x040B,0x73},//VNRLIM1[3:0]/VNRLIM0[3:0];
{WRITE_REG_DATA8,0x040C,0x0F},//-/-/-/-/VNRLIM2[3:0];
{WRITE_REG_DATA8,0x040D,0x08},//-/-/-/-/VNRG[3:0];
{WRITE_REG_DATA8,0x0300,0x02},//-/-/-/-/-/-/ALCSW/ALCLOCK;
{WRITE_REG_DATA8,0x0320,0x81},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];
{WRITE_REG_DATA8,0x0321,0x00},//WBMRG[7:0];
{WRITE_REG_DATA8,0x0322,0x3D},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0x00},//WBMGG[7:0];
{WRITE_REG_DATA8,0x0324,0x15},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];
{WRITE_REG_DATA8,0x0325,0x00},//WBMBG[7:0];
{WRITE_REG_DATA8,0x0315,0x98},//////FAUTO/FCOUNT[2:0]/FCLSBON/EXPLIM[2:0];
{WRITE_REG_DATA8,0x0114,0x00},//////-/-/-/-/OUTPUT_FORMAT[3:0];
{WRITE_REG_DATA8,0x0F00,0x00},//////-/-/-/-/OUTPUT_FORMAT[3:0];
{SENSOR_WAIT_MS, 0x0000, 0xff},		// delay=100
{SENSOR_TABLE_END, 0x0000, 0x00}
};
// 0x0248 used by exposure modify
//0x0315 used by min frame rate
static struct sensor_reg mode_1920x1080[] = {
{WRITE_REG_DATA8,0x0102,0x03},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD
{WRITE_REG_DATA8,0x0137,0x01},//-/-/-/-/-/PRE_PLL_CNTL[2:0];
{WRITE_REG_DATA8,0x0138,0x00},//-/-/-/-/-/-/-/PLL_MULTI[8];
{WRITE_REG_DATA8,0x0139,0x50},//PLL_MULTI[7:0];
{WRITE_REG_DATA8,0x013A,0x03},//-/-/-/-/VT_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013B,0x01},//-/-/-/-/OP_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013C,0x05},//-/-/-/-/VT_PIX_CNTL[3:0];
{WRITE_REG_DATA8,0x013D,0x00},//-/-/PLL_SNR_CNTL[1:0]/-/-/PLL_SYS_CNTL[1:0];
{WRITE_REG_DATA8,0x0148,0x18},//EXTCLK_FRQ_MHZ[15:8];
{WRITE_REG_DATA8,0x0149,0x00},//EXTCLK_FRQ_MHZ[7:0];
{WRITE_REG_DATA8,0x0105,0x01},//-/-/-/-/-/H_COUNT[10:8];
{WRITE_REG_DATA8,0x0106,0x62},//H_COUNT[7:0];
{WRITE_REG_DATA8,0x0107,0x00},//-/-/-/-/-/V_COUNT[10:8];
{WRITE_REG_DATA8,0x0108,0xF7},//V_COUNT[7:0];
{WRITE_REG_DATA8,0x0109,0x00},//-/-/-/-/-/-/-/SCALE_M[8];
{WRITE_REG_DATA8,0x010A,0x15},//SCAL_M[7:0];
{WRITE_REG_DATA8,0x010B,0x00},//-/V_ANABIN[2:0]/-/-/-/H_ANABIN;
{WRITE_REG_DATA8,0x010D,0x07},//-/-/-/-/HOUTPIX[11:8];
{WRITE_REG_DATA8,0x010E,0x80},//HOUTPIX[7:0];
{WRITE_REG_DATA8,0x010F,0x04},//-/-/-/-/-/VOUTPIX[10:8];
{WRITE_REG_DATA8,0x0110,0x38},//VOUTPIX[7:0];
{WRITE_REG_DATA8,0x0111,0x00},//-/-/-/-/-/-/HCROP[1:0];
{WRITE_REG_DATA8,0x0112,0x00},//-/-/-/-/-/-/VCROP[9:8];
{WRITE_REG_DATA8,0x0113,0x00},//VCROP[7:0];
{WRITE_REG_DATA8,0x0316,0x29},//FLLONGON/FRMSPD[1:0]/FL600S[12:8];
{WRITE_REG_DATA8,0x0317,0x6B},//FL600S[7:0];
{WRITE_REG_DATA8,0x0102,0x02},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD
{WRITE_REG_DATA8,0x0233,0xFF},//YNC_LIM1[3:0]/YNC_LIM0[3:0];
{WRITE_REG_DATA8,0x0234,0x0F},//-/-/-/-/YNC_LIM2[3:0];
{WRITE_REG_DATA8,0x0235,0x0E},//-/-/-/-/YNC_GAIN[3:0];
{WRITE_REG_DATA8,0x0225,0x80},//Cb_GAIN[7:0];
{WRITE_REG_DATA8,0x0228,0x80},//Cr_GAIN[7:0];
{WRITE_REG_DATA8,0x0229,0x4E},//Cbr_MGAIN1[3:0]/Cbr_MGAIN0[3:0];
{WRITE_REG_DATA8,0x022A,0x05},//-/-/-/-/Cbr_MGAIN2[3:0];
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0248,0xC0},//BRIGHT[7:0];
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x0413,0x66},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x08},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x33},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0C},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x08},//-/-/-/-/EGGAIN[3:0];
#else
{WRITE_REG_DATA8,0x0248,0xe6},//BRIGHT[7:0];//c0
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x0413,0x88},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x0F},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x43},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0F},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x0F},//-/-/-/-/EGGAIN[3:0];
{WRITE_REG_DATA8,0x0418,0x00},//HNCLIM1[3:0]/HNCLIM0[3:0];
#endif
{WRITE_REG_DATA8,0x0408,0x33},//HNCLIM1[3:0]/HNCLIM0[3:0];
{WRITE_REG_DATA8,0x0409,0x0C},//-/-/-/-/HNCLIM2[3:0];
{WRITE_REG_DATA8,0x040A,0x03},//-/-/-/-/LDNRGA[3:0];
{WRITE_REG_DATA8,0x040B,0x73},//VNRLIM1[3:0]/VNRLIM0[3:0];
{WRITE_REG_DATA8,0x040C,0x0F},//-/-/-/-/VNRLIM2[3:0];
{WRITE_REG_DATA8,0x040D,0x08},//-/-/-/-/VNRG[3:0];
{WRITE_REG_DATA8,0x0300,0x02},//-/-/-/-/-/-/ALCSW/ALCLOCK;
{WRITE_REG_DATA8,0x0320,0x81},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];
{WRITE_REG_DATA8,0x0321,0x00},//WBMRG[7:0];
{WRITE_REG_DATA8,0x0322,0x3D},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0x00},//WBMGG[7:0];
{WRITE_REG_DATA8,0x0324,0x15},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];
{WRITE_REG_DATA8,0x0325,0x00},//WBMBG[7:0];
{WRITE_REG_DATA8,0x0315,0x98},//////FAUTO/FCOUNT[2:0]/FCLSBON/EXPLIM[2:0];
{WRITE_REG_DATA8,0x0114,0x00},//////-/-/-/-/OUTPUT_FORMAT[3:0];
{WRITE_REG_DATA8,0x0F00,0x00},//////-/-/-/-/OUTPUT_FORMAT[3:0];
{SENSOR_WAIT_MS, 0x0000, 0xff},		// delay=256
{SENSOR_TABLE_END, 0x0000, 0x00}
};


static struct sensor_reg mode_640x480[] = {
{WRITE_REG_DATA8,0x0315,0x08},//////FAUTO/FCOUNT[2:0]/FCLSBON/EXPLIM[2:0];
{WRITE_REG_DATA8,0x0102,0x03},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD;
{WRITE_REG_DATA8,0x0137,0x01},//-/-/-/-/-/PRE_PLL_CNTL[2:0];
{WRITE_REG_DATA8,0x0138,0x00},//-/-/-/-/-/-/-/PLL_MULTI[8];
{WRITE_REG_DATA8,0x0139,0x39},//PLL_MULTI[7:0];
{WRITE_REG_DATA8,0x013A,0x03},//-/-/-/-/VT_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013B,0x01},//-/-/-/-/OP_SYS_CNTL[3:0];
{WRITE_REG_DATA8,0x013C,0x05},//-/-/-/-/VT_PIX_CNTL[3:0];
{WRITE_REG_DATA8,0x013D,0x00},//-/-/PLL_SNR_CNTL[1:0]/-/-/PLL_SYS_CNTL[1:0];
{WRITE_REG_DATA8,0x0148,0x18},//EXTCLK_FRQ_MHZ[15:8];
{WRITE_REG_DATA8,0x0149,0x00},//EXTCLK_FRQ_MHZ[7:0];
{WRITE_REG_DATA8,0x0105,0x00},//-/-/-/-/-/H_COUNT[10:8];
{WRITE_REG_DATA8,0x0106,0xB8},//H_COUNT[7:0];
{WRITE_REG_DATA8,0x0107,0x00},//-/-/-/-/-/V_COUNT[10:8];
{WRITE_REG_DATA8,0x0108,0x41},//V_COUNT[7:0];
{WRITE_REG_DATA8,0x0109,0x00},//-/-/-/-/-/-/-/SCALE_M[8];
{WRITE_REG_DATA8,0x010A,0x41},//SCAL_M[7:0];
{WRITE_REG_DATA8,0x010B,0x31},//-/V_ANABIN[2:0]/-/-/-/H_ANABIN;
{WRITE_REG_DATA8,0x010D,0x02},//-/-/-/-/HOUTPIX[11:8];
{WRITE_REG_DATA8,0x010E,0x80},//HOUTPIX[7:0];
{WRITE_REG_DATA8,0x010F,0x01},//-/-/-/-/-/VOUTPIX[10:8];
{WRITE_REG_DATA8,0x0110,0xE0},//VOUTPIX[7:0];
{WRITE_REG_DATA8,0x0111,0x00},//-/-/-/-/-/-/HCROP[1:0];
{WRITE_REG_DATA8,0x0112,0x00},//-/-/-/-/-/-/VCROP[9:8];
{WRITE_REG_DATA8,0x0113,0x00},//VCROP[7:0];
{WRITE_REG_DATA8,0x0316,0x46},//FLLONGON/FRMSPD[1:0]/FL600S[12:8];
{WRITE_REG_DATA8,0x0317,0x75},//FL600S[7:0];
{WRITE_REG_DATA8,0x0102,0x02},//-/-/-/-/-/-/VLAT_ON/GROUP_HOLD;
{WRITE_REG_DATA8,0x0233,0xFF},//YNC_LIM1[3:0]/YNC_LIM0[3:0];
{WRITE_REG_DATA8,0x0234,0x0F},//-/-/-/-/YNC_LIM2[3:0];
{WRITE_REG_DATA8,0x0235,0x0E},//-/-/-/-/YNC_GAIN[3:0];
{WRITE_REG_DATA8,0x0225,0x80},//Cb_GAIN[7:0];
{WRITE_REG_DATA8,0x0228,0x80},//Cr_GAIN[7:0];
{WRITE_REG_DATA8,0x0229,0x4E},//Cbr_MGAIN1[3:0]/Cbr_MGAIN0[3:0];
{WRITE_REG_DATA8,0x022A,0x05},//-/-/-/-/Cbr_MGAIN2[3:0];
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0248,0xC0},//BRIGHT[7:0];
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x0413,0x66},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x08},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x33},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0C},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x08},//-/-/-/-/EGGAIN[3:0];
#else
{WRITE_REG_DATA8,0x0248,0xe6},//BRIGHT[7:0];//c0
{WRITE_REG_DATA8,0x0249,0xA0},//CONT_LEV[7:0];
{WRITE_REG_DATA8,0x0413,0x88},//NSGAIN1[3:0]/NSG;
{WRITE_REG_DATA8,0x0414,0x0F},//-/-/-/-/NSGAIN2[3:0];
{WRITE_REG_DATA8,0x0415,0x43},//EGCRNG1[3:0]/EGCRNG0[3:0];
{WRITE_REG_DATA8,0x0416,0x0F},//-/-/-/-/EGCRNG2[3:0];
{WRITE_REG_DATA8,0x0417,0x0F},//-/-/-/-/EGGAIN[3:0];
{WRITE_REG_DATA8,0x0418,0x00},//HNCLIM1[3:0]/HNCLIM0[3:0];
#endif
{WRITE_REG_DATA8,0x0408,0x33},//HNCLIM1[3:0]/HNCLIM0[3:0];
{WRITE_REG_DATA8,0x0409,0x0C},//-/-/-/-/HNCLIM2[3:0];
{WRITE_REG_DATA8,0x040A,0x03},//-/-/-/-/LDNRGA[3:0];
{WRITE_REG_DATA8,0x040B,0x73},//VNRLIM1[3:0]/VNRLIM0[3:0];
{WRITE_REG_DATA8,0x040C,0x0F},//-/-/-/-/VNRLIM2[3:0];
{WRITE_REG_DATA8,0x040D,0x08},//-/-/-/-/VNRG[3:0];
{WRITE_REG_DATA8,0x0300,0x02},//-/-/-/-/-/-/ALCSW/ALCLOCK;
{WRITE_REG_DATA8,0x0320,0x81},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];
{WRITE_REG_DATA8,0x0321,0x00},//WBMRG[7:0];
{WRITE_REG_DATA8,0x0322,0x3D},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0x00},//WBMGG[7:0];
{WRITE_REG_DATA8,0x0324,0x11},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];
{WRITE_REG_DATA8,0x0325,0x00},//WBMBG[7:0];
{WRITE_REG_DATA8,0x0315,0xB8},//////FAUTO/FCOUNT[2:0]/FCLSBON/EXPLIM[2:0];
{WRITE_REG_DATA8,0x0114,0x00},//////-/-/-/-/OUTPUT_FORMAT[3:0];
{WRITE_REG_DATA8,0x0F00,0x00},//////-/-/-/-/OUTPUT_FORMAT[3:0];

{SENSOR_WAIT_MS, 0x0000, 0xff},		// delay=256
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg ColorEffect_None[] = {

{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg ColorEffect_Mono[] = {

{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg ColorEffect_Sepia[] = {

{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg ColorEffect_Negative[] = {

{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg ColorEffect_Solarize[] = {

{SENSOR_TABLE_END, 0x0000, 0x00}
};

//Sensor ISP Not Support this function
static struct sensor_reg ColorEffect_Posterize[] = {

{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg Whitebalance_Auto[] = {
{WRITE_REG_DATA8,0x0321,0x00},//WBMRG[7:0]; 										 
{WRITE_REG_DATA8,0x0322,0x3D},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0x00},//WBMGG[7:0]; 										 
{WRITE_REG_DATA8,0x0324,0x11},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];	 
{WRITE_REG_DATA8,0x0325,0x00},//WBMBG[7:0]; 										 
{WRITE_REG_DATA8,0x0320,0x81},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8]; 				 
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg Whitebalance_Incandescent[] = {
//new Reg
{WRITE_REG_DATA8,0x0320,0x00},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];                  
{WRITE_REG_DATA8,0x0321,0xA0},//WBMRG[7:0];                                          
{WRITE_REG_DATA8,0x0322,0x3C},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0xE0},//WBMGG[7:0];                                          
{WRITE_REG_DATA8,0x0324,0x41},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];   
{WRITE_REG_DATA8,0x0325,0x80},//WBMBG[7:0];                                          
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg Whitebalance_Daylight[] = {
//new code
{WRITE_REG_DATA8,0x0320,0x01},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];                  
{WRITE_REG_DATA8,0x0321,0x08},//WBMRG[7:0];                                          
{WRITE_REG_DATA8,0x0322,0x3C},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0xF0},//WBMGG[7:0];                                          
{WRITE_REG_DATA8,0x0324,0x40},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];   
{WRITE_REG_DATA8,0x0325,0xF0},//WBMBG[7:0];                                          
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg Whitebalance_Cloudy[] = {
{WRITE_REG_DATA8,0x0320,0x00},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];
{WRITE_REG_DATA8,0x0321,0xD0},//WBMRG[7:0];
{WRITE_REG_DATA8,0x0322,0x3D},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0x00},//WBMGG[7:0];
{WRITE_REG_DATA8,0x0324,0x41},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];
{WRITE_REG_DATA8,0x0325,0x70},//WBMBG[7:0];
{SENSOR_TABLE_END, 0x0000, 0x00}
};


static struct sensor_reg Whitebalance_Fluorescent[] = {
//new reg
{WRITE_REG_DATA8,0x0320,0x01},//AWBSW/AWBONDOT[2:0]/-/-/WBMRG[9:8];                  
{WRITE_REG_DATA8,0x0321,0x00},//WBMRG[7:0];                                          
{WRITE_REG_DATA8,0x0322,0x3D},//CAREASEL[1:0]/AREAMODE[1:0]/HEXSW/YGATESW/WBMGG[9:8];
{WRITE_REG_DATA8,0x0323,0x00},//WBMGG[7:0];                                          
{WRITE_REG_DATA8,0x0324,0x41},//SQ1SW/SQ1POL/SQ2SW/SQ2POL/SQ3SW/SQ3POL/WBMBG[9:8];   
{WRITE_REG_DATA8,0x0325,0x00},//WBMBG[7:0];                                          
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg YUVexposure_Positive2[] = {
{WRITE_REG_DATA8,0x0302,0x01},//-/-/-/-/-/-/ALCAIM[9:8]; // 01
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0303,0x20},//ALCAIM[7:0]; 
#else
{WRITE_REG_DATA8,0x0303,0x60},//ALCAIM[7:0]; // 20
#endif
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg YUVexposure_Positive1[] = {
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0302,0x00},//-/-/-/-/-/-/ALCAIM[9:8]; 
{WRITE_REG_DATA8,0x0303,0xE0},//ALCAIM[7:0];
#else
{WRITE_REG_DATA8,0x0302,0x01},//-/-/-/-/-/-/ALCAIM[9:8]; // 00
{WRITE_REG_DATA8,0x0303,0x20},//ALCAIM[7:0]; // e0
#endif
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg YUVexposure_Number0[] = {
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0302,0x00},//-/-/-/-/-/-/ALCAIM[9:8]; 
{WRITE_REG_DATA8,0x0303,0xC0},//ALCAIM[7:0]; 
#else
{WRITE_REG_DATA8,0x0302,0x01},//-/-/-/-/-/-/ALCAIM[9:8]; //00
{WRITE_REG_DATA8,0x0303,0x00},//ALCAIM[7:0]; //c0
#endif
{SENSOR_TABLE_END, 0x0000, 0x00}
};

static struct sensor_reg YUVexposure_Negative1[] = {
{WRITE_REG_DATA8,0x0302,0x00},//-/-/-/-/-/-/ALCAIM[9:8]; //00
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0303,0xA0},//ALCAIM[7:0]; 
#else
{WRITE_REG_DATA8,0x0303,0xE0},//ALCAIM[7:0]; //a0
#endif
{SENSOR_TABLE_END, 0x0000, 0x00}
};


static struct sensor_reg YUVexposure_Negative2[] = {
{WRITE_REG_DATA8,0x0302,0x00},//-/-/-/-/-/-/ALCAIM[9:8];
#ifdef CONFIG_MACH_QC750
{WRITE_REG_DATA8,0x0303,0x80},//ALCAIM[7:0];
#else 
{WRITE_REG_DATA8,0x0303,0xc0},//ALCAIM[7:0]; 
#endif
{SENSOR_TABLE_END, 0x0000, 0x00}
};

enum {
	SENSOR_MODE_2592x1944 = 0,
	SENSOR_MODE_1920x1080,
	SENSOR_MODE_1280x720,
	SENSOR_MODE_960x720,
	SENSOR_MODE_640x480,
};

static struct sensor_reg *mode_table[] = {
	[SENSOR_MODE_2592x1944] = mode_2592x1944,
	[SENSOR_MODE_1920x1080]  = mode_1920x1080,
	[SENSOR_MODE_1280x720]  = mode_1280x720,
	[SENSOR_MODE_960x720]  = mode_960x720,
	[SENSOR_MODE_640x480]   = mode_640x480,
};


enum {
	SENSOR_AF_INIFINITY = 0 ,
	SENSOR_AF_FULLTRIGER,
	SENSOR_AF_CONTINUOUS,
	SENSOR_AF_MACRO,
};
static struct sensor_reg *af_mode_table[] = {
	[SENSOR_AF_INIFINITY]   = af_infinity,
	[SENSOR_AF_FULLTRIGER]  = full_trigger,
	[SENSOR_AF_CONTINUOUS]  = af_continuous,
	[SENSOR_AF_MACRO]  = af_macro,
};
#if 0
static int sensor_read_reg(struct i2c_client *client, u16 addr, u16 *val)
{
	int err;
	struct i2c_msg msg[2];
	unsigned char data[4];

	if (!client->adapter)
		return -ENODEV;

	msg[0].addr = client->addr;
	msg[0].flags = 0;
	msg[0].len = 2;
	msg[0].buf = data;

	/* high byte goes out first */
	data[0] = (u8) (addr >> 8);
	data[1] = (u8) (addr & 0xff);

	msg[1].addr = client->addr;
	msg[1].flags = I2C_M_RD;
	msg[1].len = 2;
	msg[1].buf = data + 2;

	err = i2c_transfer(client->adapter, msg, 2);

	if (err != 2)
		return -EINVAL;

        swap(*(data+2),*(data+3)); //swap high and low byte to match table format
	memcpy(val, data+2, 2);

	return 0;
}
#endif
static int sensor_read_8reg(struct i2c_client *client, u16 addr, u8 *val)
{
	int err;
	struct i2c_msg msg[2];
	unsigned char data[2];

	if (!client->adapter)
		return -ENODEV;

	msg[0].addr = client->addr;
	msg[0].flags = 0;
	msg[0].len = 2;
	msg[0].buf = data;

	/* high byte goes out first */
	data[0] = (u8) (addr >> 8);
	data[1] = (u8) (addr & 0xff);

	msg[1].addr = client->addr;
	msg[1].flags = I2C_M_RD;
	msg[1].len = 1;
	msg[1].buf = data;

	err = i2c_transfer(client->adapter, msg, 2);

	if (err != 2)
		return -EINVAL;
	
	memcpy(val, data, 1);
	return 0;
}


static int sensor_write_reg8(struct i2c_client *client, u16 addr, u8 val)
{
	int err;
	struct i2c_msg msg;
	unsigned char data[3];
	int retry = 0;

	if (!client->adapter)
		return -ENODEV;

	data[0] = (u8) (addr >> 8);
	data[1] = (u8) (addr & 0xff);
	data[2] = (u8) (val & 0xff);

	msg.addr = client->addr;
	msg.flags = 0;
	msg.len = 3;
	msg.buf = data;

	do {
		err = i2c_transfer(client->adapter, &msg, 1);
		if (err == 1)
			return 0;
		retry++;
		pr_err("mt9p111 : i2c transfer failed, retrying %x %x %d\n",
		       addr, val, err);
		msleep(3);
	} while (retry <= SENSOR_MAX_RETRIES);

	return err;
}

static int sensor_write_reg16(struct i2c_client *client, u16 addr, u16 val)
{
	int err = 0;
	struct i2c_msg msg;
	unsigned char data[4];
	int retry = 0;

	if (!client->adapter)
		return -ENODEV;

	data[0] = (u8) (addr >> 8);
	data[1] = (u8) (addr & 0xff);
        data[2] = (u8) (val >> 8);
	data[3] = (u8) (val & 0xff);

	msg.addr = client->addr;
	msg.flags = 0;
	msg.len = 4;
	msg.buf = data;

	do {
		err = i2c_transfer(client->adapter, &msg, 1);
		if (err == 1)
			return 0;
		retry++;
		pr_err("mt9p111 : i2c transfer failed, retrying %x %x %d\n",
		       addr, val, err);
		msleep(3);
	} while (retry <= SENSOR_MAX_RETRIES);

	return err;
}
static int sensor_write_table(struct i2c_client *client,
			      const struct sensor_reg table[])
{
	const struct sensor_reg *next;
	int err;
    
	pr_info("mt9p111 %s \n",__func__);
    
    next = table ;       

	for (next = table; next->op != SENSOR_TABLE_END; next++) {

		switch (next->op) {
		case WRITE_REG_DATA8:
		{
	        //pr_info("write reg data 8 \n");
			err = sensor_write_reg8(client, next->addr,
				next->val);
			if (err)
				return err;
			break;
		}
		case WRITE_REG_DATA16:
		{
	        //pr_info("write reg data 16 \n");
			err = sensor_write_reg16(client, next->addr,
				next->val);
			if (err)
				return err;
			break;
		}
		case SENSOR_WAIT_MS:
		{
			msleep(next->val);
			break;
		}
		default:
			pr_err("%s: invalid operation 0x%x\n", __func__,
				next->op);
			return err;
		}
	}
	return 0;
}
#if 0
static int get_sensor_current_width(struct i2c_client *client, u16 *val, u16 reg)
{
    int err;
     
    err = sensor_read_reg(client, reg, val);

    if (err)
      return err;

    return 0;
}
#endif
static u8 get_sensor_8len_reg(struct i2c_client *client, u16 reg)
{
    int err;
	u8 val;
     
    err = sensor_read_8reg(client, reg, &val);

    if (err)
      return 0;

    return val;
}

static void JT8EV5WriteGain(struct sensor_info *info,u32 gain)
{
	sensor_write_reg8(info->i2c_client,0x0309,(u8)((gain&0x0F000000) >> 24)); 
	sensor_write_reg8(info->i2c_client,0x030A,(u8)((gain&0x00FF0000) >> 16));
	sensor_write_reg8(info->i2c_client,0x030B,(u8)((gain&0x000003FF) >> 2));
}
static void JT8EV5WriteShutter(struct sensor_info *info,u16 Shutter)
{
	sensor_write_reg8(info->i2c_client,0x0307,(u8)((Shutter&0x0000FF00)>>8));
	sensor_write_reg8(info->i2c_client,0x0308,(u8)(Shutter&0x000000FF) );
} 

static u32 JT8EV5ReadGain(struct sensor_info *info)
{
	// Get the Gain value calculated by ALC
	u16 gain_DG,gain_AG;
	u16 againH,againL;
	u16 dgainH,dgainL;
	
	againH=get_sensor_8len_reg(info->i2c_client,0x0361);				
	againL=get_sensor_8len_reg(info->i2c_client,0x0362);
	

	dgainH=get_sensor_8len_reg(info->i2c_client,0x0363);				
	dgainL=get_sensor_8len_reg(info->i2c_client,0x0364);
	
	gain_AG=againH<<8|againL; 
	gain_DG=(dgainH<<8|dgainL);
	return ((u32) gain_AG <<16 | gain_DG);
}

static void JT8EV5AeEnable(struct sensor_info *info,int Enable)
{
	// to enable or disable AE
  	sensor_write_reg8(info->i2c_client,0x0300, (Enable?0x02:0x00));	
}	

static void JT8EV5AwbEnable(struct sensor_info *info,int Enable)
{
//    To enable or disable AWB	
	sensor_write_reg8(info->i2c_client,0x0320,(get_sensor_8len_reg(info->i2c_client,0x0320)&(0x7F))|(Enable?0x80:0x00));
}
static int sensor_set_af_mode(struct sensor_info *info, u8 mode)
{
	int err;

	pr_info("%s: mode %d\n",__func__, mode);
	if(DEBUG)
		pr_err("%s: ##############################af mode %d\n",__func__, mode);
    err = sensor_write_table(info->i2c_client, af_mode_table[mode]);
	if (err)
	    return err;

	return 0;
}
static int sensor_set_mode(struct sensor_info *info, struct sensor_mode *mode)
{
	int sensor_table;
	int err;
  	u16 Preview_H_count=1472,Capshutter,Capture_H_count=2880;	
	u8 wbmr_msb,wbmr_lsb,wbmg_msb,wbmg_lsb,wbmb_msb,wbmb_lsb,tempwb;
	u16 PVshutter;
	u32 gain,Preview_spclk_in_K,Capture_spclk_in_K;
	int enableAwb = 0,enableAe = 0;
	u32 SPCLK = 45600;

	pr_info("%s: xres %u yres %u\n",__func__, mode->xres, mode->yres);

	if (mode->xres == 2592 && mode->yres == 1944)
		sensor_table = SENSOR_MODE_2592x1944;
	else if (mode->xres == 1920 && mode->yres == 1080)
		sensor_table = SENSOR_MODE_1920x1080;
	else if (mode->xres == 1280 && mode->yres == 720)
		sensor_table = SENSOR_MODE_1280x720;
	else if (mode->xres == 960 && mode->yres == 720)
		sensor_table = SENSOR_MODE_960x720;
	else if (mode->xres == 640 && mode->yres == 480)
		sensor_table = SENSOR_MODE_640x480;
	else {
		pr_err("%s: invalid resolution supplied to set mode %d %d\n",
		       __func__, mode->xres, mode->yres);
		return -EINVAL;
	}
	
	if(sensor_table == SENSOR_MODE_2592x1944){
		mutex_lock(&info->als_get_sensor_value_mutex);
		wbmr_msb = (u8)(get_sensor_8len_reg(info->i2c_client,0x036E)&0x03); 									 
		wbmr_lsb = (u8)get_sensor_8len_reg(info->i2c_client,0x036F);//the RGain value read from AWB for manual WB
		wbmg_msb = (u8)(get_sensor_8len_reg(info->i2c_client,0x0370)&0x03); 									 
		wbmg_lsb = (u8)get_sensor_8len_reg(info->i2c_client,0x0371);//the GGain value read from AWB for manual WB
		wbmb_msb = (u8)(get_sensor_8len_reg(info->i2c_client,0x0372)&0x03); 									 
		wbmb_lsb = (u8)get_sensor_8len_reg(info->i2c_client,0x0373);//the BGain value read from AWB for manual WB
				
		gain = JT8EV5ReadGain(info);

		PVshutter = ((get_sensor_8len_reg(info->i2c_client,0x035F) << 8 )| get_sensor_8len_reg(info->i2c_client,0x0360));
		//Preview_H_count=(((u16) get_sensor_8len_reg(info->i2c_client,0x0105)&0x0007 )<< 8 )| get_sensor_8len_reg(info->i2c_client,0x0106);
		Preview_spclk_in_K = SPCLK;
		if(Preview_spclk_in_K==0) Preview_spclk_in_K=1;
		//To enable or disable AWB	
		sensor_write_reg8(info->i2c_client,0x0320,(get_sensor_8len_reg(info->i2c_client,0x0320)&(0x7F))|(enableAwb?0x80:0x00));
		
		sensor_write_reg8(info->i2c_client,0x0300, (enableAwb?0x02:0x00));
		JT8EV5AwbEnable(info,enableAwb);   // Turn off AWB
		JT8EV5AeEnable(info,enableAe);    // Turn off AE
	
		JT8EV5WriteGain(info,gain);

		
		tempwb=((u8)get_sensor_8len_reg(info->i2c_client,0x0320)&0xFC)|wbmr_msb;
		sensor_write_reg8(info->i2c_client,0x0320, tempwb);
		sensor_write_reg8(info->i2c_client,0x0321, wbmr_lsb );//set the?RGain value read from AWB registers to manual WB registers
	
		tempwb=(((u8)get_sensor_8len_reg(info->i2c_client,0x0322))&0xFC)|wbmg_msb;
		sensor_write_reg8(info->i2c_client,0x0322, tempwb);
		sensor_write_reg8(info->i2c_client,0x0323, wbmg_lsb );//set the?GGain value read from AWB registers to manual WB registers
	
		tempwb=(((u8)get_sensor_8len_reg(info->i2c_client,0x0324))&0xFC)|wbmb_msb;
		sensor_write_reg8(info->i2c_client,0x0324, tempwb);
		sensor_write_reg8(info->i2c_client,0x0325, wbmb_lsb );//set the?BGain value read from AWB registers to manual WB registers
		
		
		//	Read the capture mode H_count value
		//Capture_H_count=(((u16) get_sensor_8len_reg(info->i2c_client,0x0105)&0x0007 )<< 8 )| get_sensor_8len_reg(info->i2c_client,0x0106);
	
		Capture_spclk_in_K = SPCLK;
		if (Capture_spclk_in_K==0) Capture_spclk_in_K=1; // Prevent Divided by Zero
	
		// Calculate Shutter
		Capshutter=PVshutter;
		Capshutter=Capshutter*(Capture_spclk_in_K)/(Preview_spclk_in_K);
		Capshutter=Capshutter*(Preview_H_count)/(Capture_H_count);
		
		// Write the shutter back to sensor
		JT8EV5WriteShutter(info,Capshutter);
		mutex_unlock(&info->als_get_sensor_value_mutex);
		
	}else{

		if(atomic_read(&info->power_on_loaded)&&!atomic_read(&info->sensor_init_loaded)){
			err = sensor_write_table(info->i2c_client, load_initSetting);
			if(DEBUG)pr_err("%s:t8ev5 camera init setting reg uninit will load reg!\n",__func__);
			if (err){
				pr_err("%s:t8ev5 camera init setting reg failed!\n",__func__);
				atomic_set(&info->sensor_init_loaded, 0);
    				return err;
			}
			atomic_set(&info->sensor_init_loaded, 1);
		}else
		if(DEBUG)pr_err("%s:t8ev5 camera init setting reg inited!\n",__func__);
		JT8EV5AwbEnable(info,1);   // Turn on AWB
		JT8EV5AeEnable(info,1);    // Turn on AE
		pr_err("%s:===========>current_wb = %d\n",__func__,info->current_wb);


	if(info->continuous_enable)
		   	sensor_set_af_mode(info, SENSOR_AF_CONTINUOUS);
		
	}

	err = sensor_write_table(info->i2c_client, mode_table[sensor_table]);
    if (err)
    	return err;

	#if 1
		switch(info->current_wb){
			case YUV_Whitebalance_Auto:
				debug_print("######################YUV_Whitebalance_Auto EXE!!!!!!!!\n");
				err = sensor_write_table(info->i2c_client, Whitebalance_Auto);
			 break;
	               case YUV_Whitebalance_Incandescent:
			   	debug_print("######################YUV_Whitebalance_Incandescent EXE!!!!!!!!\n");
	                 	err = sensor_write_table(info->i2c_client, Whitebalance_Incandescent);
	                break;
                case YUV_Whitebalance_Daylight:
		   	debug_print("######################YUV_Whitebalance_Daylight EXE!!!!!!!!\n");
                 	err = sensor_write_table(info->i2c_client, Whitebalance_Daylight);
                     break;
                case YUV_Whitebalance_Fluorescent:
		   	debug_print("######################YUV_Whitebalance_Fluorescent EXE!!!!!!!!\n");
                 	err = sensor_write_table(info->i2c_client, Whitebalance_Fluorescent);
                     break;
		  case YUV_Whitebalance_CloudyDaylight:
		   	debug_print("######################YUV_Whitebalance_CloudyDaylightEXE!!!!!!!!\n");
                 	err = sensor_write_table(info->i2c_client, Whitebalance_Cloudy);
                     break;
                default:
			debug_print("######################YUV_white balance default EXE!!!!!!!!\n");
                     break;
		}
	     switch(info->current_exposure)
            {
                case YUV_YUVExposure_Positive2:
		   debug_print("######################YUV_YUVExposure_Positive2 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Positive2);
                     break;
                case YUV_YUVExposure_Positive1:
		   debug_print("######################YUV_YUVExposure_Positive1 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Positive1);
                     break;
                case YUV_YUVExposure_Number0:
		   debug_print("######################YUV_YUVExposure_Number0 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Number0);
                     break;
                case YUV_YUVExposure_Negative1:
		   debug_print("######################YUV_YUVExposure_Negative1 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Negative1);
                     break;
		  case YUV_YUVExposure_Negative2:
		   debug_print("######################YUV_YUVExposure_Negative2 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Negative2);
                     break;
                default:
			debug_print("######################YUV_exposure default EXE!!!!!!!!\n");
                     break;
            }
#endif
	
	info->mode = sensor_table;
	return 0;
}

static int t8ev5_set_position(struct sensor_info *info, u32 position)
{
	if (position < info->config.pos_low ||
	    position > info->config.pos_high)
		return -EINVAL;

	return 0;//sensor_write_reg8(info->i2c_client,0x0320, position);
}
static bool chectRectEq(struct t8ev5_win_pos old_rect,struct t8ev5_win_pos new_rect)
{
	bool ret = false;
	ret = (old_rect.left == new_rect.left)&&(old_rect.top == new_rect.top)&&
		 (old_rect.bottom== new_rect.bottom)&&(old_rect.right== new_rect.right);

	return ret;
}

static int t8ev5_get_windows_position(struct sensor_info *info,u8* pos){
	int ret = 0;
	int i ;
	
	int pointW = 0,pointH = 0;
	int point_x=0,point_y=0;
	u8 selected_x=3,selected_y=3;
	
	struct t8ev5_win_pos windows = info->win_pos;
	if(chectRectEq(info->win_pos_old, info->win_pos)){

		pr_err("%s:rect eq so return do nonthing!!!\n",__func__);
		return -EINVAL;
	}
	pr_err("%s:========>(%d,%d,%d,%d)\n",__func__,windows.left,windows.top,windows.right,windows.bottom);
         if (windows.left < (-ANDROID_WINDOW_PRECISION) ||
             windows.right > (ANDROID_WINDOW_PRECISION) ||
             windows.top < (-ANDROID_WINDOW_PRECISION) ||
             windows.bottom > (ANDROID_WINDOW_PRECISION) ||
             windows.left >= windows.right ||
             windows.top >= windows.bottom )
         {
             dev_err(&info->i2c_client->dev,"Failed windows capability check, "\
                 "please check your window bounds and : "\
                 "(%d,%d,%d,%d)",
                 windows.left,
                 windows.top,
                 windows.right,
                 windows.bottom);
		return -EINVAL;
         }
       pointW = windows.right-windows.left;
	pointH = windows.bottom-windows.top;
	
	point_x = ANDROID_WINDOW_PRECISION + (windows.left+pointW/2);
	point_y = ANDROID_WINDOW_PRECISION + (windows.top+pointH/2);
	//x1= -625,x2= -375, x3= -125,x4= -625,x1= -625,x1= -625,x1= -625,x1= -625
	pr_err("t8ev5_get_windows_position:(%d,%d)\n",point_x,point_y);
	for(i=0;i<MAX_POS-1;i++){
		if(point_x>=0&&point_x< 3*(PER_SIZE_W/2))
			selected_x=0;
		else if(point_x>= 3*(PER_SIZE_W/2)&&point_x<3*(PER_SIZE_W/2)+PER_SIZE_W)
			selected_x=1;
		else if(point_x>=3*(PER_SIZE_W/2)+PER_SIZE_W&&point_x<3*(PER_SIZE_W/2)+2*PER_SIZE_W)
			selected_x=2;
		else if(point_x>=3*(PER_SIZE_W/2)+2*PER_SIZE_W&&point_x<3*(PER_SIZE_W/2)+3*PER_SIZE_W)
			selected_x=3;
		else if(point_x>=3*(PER_SIZE_W/2)+3*PER_SIZE_W&&point_x<3*(PER_SIZE_W/2)+4*PER_SIZE_W)
			selected_x=4;
		else if(point_x>=3*(PER_SIZE_W/2)+4*PER_SIZE_W&&point_x<3*(PER_SIZE_W/2)+5*PER_SIZE_W)
			selected_x=5;
		else if(point_x>=3*(PER_SIZE_W/2)+5*PER_SIZE_W&&point_x<PREVIEW_SIZE_W)
			selected_x=6;
		else
			 dev_err(&info->i2c_client->dev,"fRegions.win_x = %d unfound!!\n",point_x);
		
		if(point_y>=0&&point_y<3*(PER_SIZE_H/2))//135
			selected_y =0;
		else if(point_y>=3*(PER_SIZE_H/2)&&point_y<3*(PER_SIZE_H/2)+PER_SIZE_H)
			selected_y=1;
		else if(point_y>=3*(PER_SIZE_H/2)+PER_SIZE_H&&point_y<3*(PER_SIZE_H/2)+2*PER_SIZE_H)
			selected_y=2;
		else if(point_y>=3*(PER_SIZE_H/2)+2*PER_SIZE_H&&point_y<3*(PER_SIZE_H/2)+3*PER_SIZE_H)
			selected_y=3;
		else if(point_y>=3*(PER_SIZE_H/2)+3*PER_SIZE_H&&point_y<3*(PER_SIZE_H/2)+4*PER_SIZE_H)
			selected_y=4;
		else if(point_y>=3*(PER_SIZE_H/2)+4*PER_SIZE_H&&point_y<3*(PER_SIZE_H/2)+5*PER_SIZE_H)
			selected_y=5;
		else if(point_y>=3*(PER_SIZE_H/2)+5*PER_SIZE_H&&point_y<PREVIEW_SIZE_H)
			selected_y=6;
		else
			 dev_err(&info->i2c_client->dev,"fRegions.win_y = %d unfound!!\n",point_y);
	}
	*pos=((selected_x << 4) |selected_y);
	info->win_pos_old = info->win_pos;
	pr_err("t8ev5_get_windows_position:select_pos=0x%02x\n",*pos);
	return ret ;
}

static int t8ev5_set_windows_position(struct sensor_info *info)
{
       u8 val;         
	int err = 0,i,try_max = 10;
	u8 pos =0x33;
	err=t8ev5_get_windows_position(info,&pos);
	if (err)return err;
	
	err = sensor_write_reg8(info->i2c_client, 0x2401,0x15);//SET_WINDOW_POSITION
	if (err)return err;
	err = sensor_write_reg8(info->i2c_client, 0x2402,pos);//Y[0-6]/X[0-6] 
	if (err)return err;
	for(i =0;i<try_max;i++){
		val = get_sensor_8len_reg(info->i2c_client, 0x2800);//Wait for 0x2800 until finish 
		pr_err("%s:=============>val(0x2800) = %x\n",__func__,val);
		if(!(val&(1<<7)))break;
		else
			mdelay(10);
	}
	//pr_err("%s:=============>posx = %d,posy =%d pos=0x%02x\n",__func__,info->win_pos.win_x,info->win_pos.win_y,pos);
 
	///  ((info->win_pos.win_x << 4) |info->win_pos.win_y)
	if(i<try_max){
		pr_err("%s:=============>will write 0x27ff\n",__func__);
		err = sensor_write_reg8(info->i2c_client, 0x27FF,0xE1);//WRITE
		if (err)return err;
		err = sensor_write_reg8(info->i2c_client, 0x27FF,0x28);//WRITE one shut
		if (err)return err;
	}else
		err = -EINVAL;
	return err;
}
static int t8ev5_read_reg(struct i2c_client *client, u16 addr, u8 *val)
{
	int err;
	struct i2c_msg msg[2];
	unsigned char data[3];

	if (!client->adapter)
		return -ENODEV;

	msg[0].addr = client->addr;
	msg[0].flags = 0;
	msg[0].len = 2;
	msg[0].buf = data;

	/* high byte goes out first */
	data[0] = (u8) (addr >> 8);
	data[1] = (u8) (addr & 0xff);

	msg[1].addr = client->addr;
	msg[1].flags = I2C_M_RD;
	msg[1].len = 1;
	msg[1].buf = data + 2;

	err = i2c_transfer(client->adapter, msg, 2);

	if (err != 2)
		return -EINVAL;

	*val = data[2];

	return 0;
}

static int sensor_get_af_status(struct sensor_info *info,u8 *val)
{
	int err;
	err = t8ev5_read_reg(info->i2c_client, 0x2800, val);
	if (err)
		return -EINVAL;

	printk("%s: value %02x\n", __func__, (u32)val);
	
    	return err;
}
static long sensor_ioctl(struct file *file,
			 unsigned int cmd, unsigned long arg)
{
	struct sensor_info *info = file->private_data;
    int err=0;

    
	switch (cmd) 
    {
    	case SENSOR_IOCTL_SET_MODE:
    	{
    		struct sensor_mode mode;
    		if (copy_from_user(&mode,
    				   (const void __user *)arg,
    				   sizeof(struct sensor_mode))) {
    			return -EFAULT;
    		}
		
    		return sensor_set_mode(info, &mode);
    	}
	case T8EV5_IOCTL_SET_WINDOWS_POS:
    	{

    		if (copy_from_user(&info->win_pos,
    				   (const void __user *)arg,
    				   sizeof(struct t8ev5_win_pos))) {
    			pr_err("T8EV5_IOCTL_SET_WINDOWS_POS:============>copy from user data failed!\n");
    			return -EFAULT;
    		}
		
    		return t8ev5_set_windows_position(info);
    	}
	case T8EV5_IOCTL_SET_CONTINUOUS_MODE:
    	{
		int state = 0;
		u8 continuous_enable;
    		pr_err("T8EV5_IOCTL_SET_CONTINUOUS_MODE:============>start copy!\n");
		
    		if (copy_from_user(&continuous_enable,
        			   (const void __user *)arg,
        			   sizeof(continuous_enable))) {
    			pr_err("T8EV5_IOCTL_SET_CONTINUOUS_MODE:============>copy from user data failed!\n");
    			return -EFAULT;
    		}
		info->continuous_enable= continuous_enable;
		pr_err("T8EV5_IOCTL_SET_CONTINUOUS_MODE:============>continuous_enabl=%d!\n",info->continuous_enable);
		if(info->continuous_enable)
		   	state=sensor_set_af_mode(info, SENSOR_AF_CONTINUOUS);
    		return state;
    	}
    	case SENSOR_IOCTL_GET_STATUS:
    	{

    		return 0;
    	}
    	case SENSOR_IOCTL_GET_AF_STATUS:
    	{
	    int err;
	    u8 val;

	    err = sensor_get_af_status(info, &val);
	    if (err)
		return err;

	    if (copy_to_user((void __user *) arg,
			 &val, sizeof(val))) {
		pr_err("%s: 0x%x\n", __func__, __LINE__);
		return -EFAULT;
	    }
	    break;
    	}
    	case SENSOR_IOCTL_SET_AF_MODE:
    	{
            return sensor_set_af_mode(info, (u8)arg);
    	}
        case SENSOR_IOCTL_SET_COLOR_EFFECT:
        {
            u8 coloreffect;

        	if (copy_from_user(&coloreffect,
        			   (const void __user *)arg,
        			   sizeof(coloreffect))) {
        		return -EFAULT;
        	}
		if(DEBUG)
	       	pr_err("######################ioctl YUV_ColorEffect EXE!!!!!!!!\n");
            switch(coloreffect)
            {
                case YUV_ColorEffect_None:
		  if(DEBUG)
		   	pr_err("######################YUV_ColorEffect_None EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, ColorEffect_None);
                     break;
                case YUV_ColorEffect_Mono:
		   if(DEBUG)
		   	pr_err("######################YUV_ColorEffect_Mono EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, ColorEffect_Mono);
                     break;
                case YUV_ColorEffect_Sepia:
		   if(DEBUG)
		   	pr_err("######################YUV_ColorEffect_Sepia EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, ColorEffect_Sepia);
                     break;
                case YUV_ColorEffect_Negative:
		    if(DEBUG)
		    	pr_err("######################YUV_ColorEffect_Negative EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, ColorEffect_Negative);
                     break;
                case YUV_ColorEffect_Solarize:
		   if(DEBUG)
		   	pr_err("######################YUV_ColorEffect_Solarize EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, ColorEffect_Solarize);
                     break;
                case YUV_ColorEffect_Posterize:
		   if(DEBUG)
		   	pr_err("######################YUV_ColorEffect_Posterize EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, ColorEffect_Posterize);
                     break;
                default: 	
					if(DEBUG)
						pr_err("######################YUV_ColorEffect_Posterize default EXE!!!!!!!!\n");
                     break;
            }

            if (err)
    	        return err;

            return 0;
        }
        case SENSOR_IOCTL_SET_WHITE_BALANCE:
        {
            u8 whitebalance;
		if(DEBUG)
			pr_err("######################ioctl YUV_white balance EXE 1!!!!!!!!\n");
        	if (copy_from_user(&whitebalance,
        			   (const void __user *)arg,
        			   sizeof(whitebalance))) {
        		return -EFAULT;
        	}
		if(DEBUG)	
			pr_err("######################ioctl YUV_white balance EXE 2!!!!!!!!\n");

            switch(whitebalance)
            {
                case YUV_Whitebalance_Auto:
		   if(DEBUG)
		   	pr_err("######################YUV_Whitebalance_Auto EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, Whitebalance_Auto);
			 info->current_wb =YUV_Whitebalance_Auto; 
                     break;
                case YUV_Whitebalance_Incandescent:
		   if(DEBUG)
		   	pr_err("######################YUV_Whitebalance_Incandescent EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, Whitebalance_Incandescent);
			info->current_wb =YUV_Whitebalance_Incandescent; 
                     break;
                case YUV_Whitebalance_Daylight:
		   if(DEBUG)
		   	pr_err("######################YUV_Whitebalance_Daylight EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, Whitebalance_Daylight);
			info->current_wb =YUV_Whitebalance_Daylight; 
                     break;
                case YUV_Whitebalance_Fluorescent:
		   if(DEBUG)
		   	pr_err("######################YUV_Whitebalance_Fluorescent EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, Whitebalance_Fluorescent);
			info->current_wb =YUV_Whitebalance_Fluorescent; 
                     break;
		  case YUV_Whitebalance_CloudyDaylight:
		   if(DEBUG)
		   	pr_err("######################YUV_Whitebalance_CloudyDaylightEXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, Whitebalance_Cloudy);
			info->current_wb =YUV_Whitebalance_CloudyDaylight; 
                     break;
                default:
					if(DEBUG)
						pr_err("######################YUV_white balance default EXE!!!!!!!!\n");
                     break;
            }
	     if(DEBUG)
	    	 pr_err("######################white balance ioctl EXE ret  = %d\n",err);
            if (err)
    	        return err;

            return 0;
        }
	 case SENSOR_IOCTL_SET_YUV_EXPOSURE:
        {
	      u8 yuvexposure;
		if(DEBUG)
			pr_err("######################ioctl YUV_exposure EXE 1!!!!!!!!\n");
        	if (copy_from_user(&yuvexposure,
        			   (const void __user *)arg,
        			   sizeof(yuvexposure))) {
        		return -EFAULT;
        	}
		if(DEBUG)
			pr_err("######################ioctl YUV_exposure EXE 2!!!!!!!!\n");

            switch(yuvexposure)
            {
                case YUV_YUVExposure_Positive2:
		   if(DEBUG)
		   	pr_err("######################YUV_YUVExposure_Positive2 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Positive2);
			info->current_exposure =YUV_YUVExposure_Positive2; 
                     break;
                case YUV_YUVExposure_Positive1:
		   if(DEBUG)
		   	pr_err("######################YUV_YUVExposure_Positive1 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Positive1);
			info->current_exposure =YUV_YUVExposure_Positive1; 
                     break;
                case YUV_YUVExposure_Number0:
		   if(DEBUG)
		   	pr_err("######################YUV_YUVExposure_Number0 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Number0);
			info->current_exposure =YUV_YUVExposure_Number0;
                     break;
                case YUV_YUVExposure_Negative1:
		   if(DEBUG)
		   	pr_err("######################YUV_YUVExposure_Negative1 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Negative1);
			info->current_exposure =YUV_YUVExposure_Negative1;
                     break;
		  case YUV_YUVExposure_Negative2:
		   if(DEBUG)
		   	pr_err("######################YUV_YUVExposure_Negative2 EXE!!!!!!!!\n");
                 err = sensor_write_table(info->i2c_client, YUVexposure_Negative2);
			info->current_exposure =YUV_YUVExposure_Negative2;
                     break;
                default:
					if(DEBUG)
						pr_err("######################YUV_exposure default EXE!!!!!!!!\n");
                     break;
            }
		if(DEBUG)
		 pr_err("######################YUV_exposure ioctl EXE ret  = %d\n",err);
            if (err)
    	        return err;
            return 0;
        }
        case SENSOR_IOCTL_SET_GET_SHADING:
        {
            return 0;
        }
	 case SENSOR_IOCTL_SET_SCENE_MODE:
        {
            return 0;
        }
    	default:
    		return -EINVAL;
	}
	return 0;
}
static long t8ev5_focuser_ioctl(struct file *file,
			unsigned int cmd, unsigned long arg)
{
	struct sensor_info *info = file->private_data;

	switch (cmd) {
	case T8EV5_IOCTL_GET_CONFIG:
	{
		if (copy_to_user((void __user *) arg,
				 &info->config,
				 sizeof(info->config))) {
			pr_err("%s: 0x%x\n", __func__, __LINE__);
			return -EFAULT;
		}

		break;
	}
	case T8EV5_IOCTL_SET_POSITION:
		return t8ev5_set_position(info, (u32) arg);
	default:
		return -EINVAL;
	}

	return 0;
}

static int t8ev5_focuser_open(struct inode *inode, struct file *file)
{
	pr_err("%s==========>\n",__func__);
	file->private_data = mt9p111_sensor_info;
	return 0;
}

int t8ev5_focuser_release(struct inode *inode, struct file *file)
{
	file->private_data = NULL;
	return 0;
}



static int sensor_open(struct inode *inode, struct file *file)
{
	pr_info("mt9p111 %s\n",__func__);
	
	file->private_data = mt9p111_sensor_info;
	if (mt9p111_sensor_info->pdata && mt9p111_sensor_info->pdata->power_on)
		mt9p111_sensor_info->pdata->power_on();
	atomic_set(&mt9p111_sensor_info->power_on_loaded, 1);
	atomic_set(&mt9p111_sensor_info->sensor_init_loaded, 0);
	return 0;
}

int sensor_release(struct inode *inode, struct file *file)
{
	sensor_write_reg8(mt9p111_sensor_info->i2c_client, 0x0100, 0x00);// video OFF
	if (mt9p111_sensor_info->pdata && mt9p111_sensor_info->pdata->power_off)
		mt9p111_sensor_info->pdata->power_off();
	atomic_set(&mt9p111_sensor_info->power_on_loaded, 0);
	atomic_set(&mt9p111_sensor_info->sensor_init_loaded, 0);
	file->private_data = NULL;
	return 0;
}


static const struct file_operations sensor_fileops = {
	.owner = THIS_MODULE,
	.open = sensor_open,
	.unlocked_ioctl = sensor_ioctl,
	.release = sensor_release,
};

static struct miscdevice sensor_device = {
	.minor = MISC_DYNAMIC_MINOR,
	.name = SENSOR_NAME,
	.fops = &sensor_fileops,
};

static const struct file_operations t8ev5_sensor_fileops = {
	.owner = THIS_MODULE,
	.open = t8ev5_focuser_open,
	.unlocked_ioctl = t8ev5_focuser_ioctl,
	.release = t8ev5_focuser_release,
};

static struct miscdevice t8ev5_device = {
	.minor = MISC_DYNAMIC_MINOR,
	.name = "t8ev5_focuser",
	.fops = &t8ev5_sensor_fileops,
};
static ssize_t hm_camera_effect_show(struct device *dev, struct device_attribute *attr, char *buf)
{
    struct sensor_info *info = mt9p111_sensor_info;
    ssize_t res = 0;

	pr_err("%s:==========>current_addr=========>0x%04x\n",__func__,info->current_addr);

	mutex_lock(&info->als_get_sensor_value_mutex);
	res = snprintf(buf, 1024,
		"0x%02x\n",get_sensor_8len_reg(info->i2c_client,info->current_addr));
	mutex_unlock(&info->als_get_sensor_value_mutex);


	
	return res;
}
#if 0
static ssize_t hm_camera_effect_store(struct device *dev, struct device_attribute *attr, const char *buf, size_t count)
{
    struct sensor_info *info = mt9p111_sensor_info;
    //sscanf(buf, "%s",&vales);
   u16 addr = 0x0000;
   u8 val = 0x00;
   int err=0;
   unsigned int orgfs;
   long lfile=-1;
    char data[33];
   memset(data, 0, sizeof(data));
   strncpy(data,buf,sizeof(data)); 
   if(strncmp(data, "txt", 3)){
	   addr = simple_strtoul(buf, NULL, 16);
	   if(count >= 8)
	   	val = simple_strtoul(buf+5, NULL, 16);
	    mutex_lock(&info->als_get_sensor_value_mutex);
	    if(count >= 8){
		    err = sensor_write_reg8(info->i2c_client,addr, val);
		    if (err){
				pr_err("%s:=========>wirte 0x%04x fail!err=%d\n",__func__,addr,err);
		    	}
	    }else
	    		val = get_sensor_8len_reg(info->i2c_client,addr);
	   info->current_addr = addr;
	   mutex_unlock(&info->als_get_sensor_value_mutex);
   }else{
	orgfs = get_fs();
// Set segment descriptor associated to kernel space
	set_fs(KERNEL_DS);
	
        lfile=sys_open(mDebugFileName,O_WRONLY|O_CREAT, 0777);
	if (lfile < 0)
	{
 	 	printk("sys_open %s error!!. %ld\n",mDebugFileName,lfile);
	}
	else
	{
   	 	sys_lseek(lfile, 142, 0);  
		   	
		sys_read(lfile, data, sizeof(data)-1);
		printk("cid_show: =%s\n",data);
		
	 	sys_close(lfile);
	}
	set_fs(orgfs);
    }
    
    
    pr_err("%s:==> addr = 0x%04x,vales = 0x%02x,count=%d,inputLen=%d\n",__func__,addr, val,count,strlen(buf));
    return count;
}
#endif
static DEVICE_ATTR(hm_camera_effect, S_IROTH, hm_camera_effect_show,NULL);



static struct attribute *ets_attributes[] =
{

    &dev_attr_hm_camera_effect.attr,
    NULL,
};

static struct attribute_group ets_attr_group =
{
    .attrs = ets_attributes,
};

static int sensor_probe(struct i2c_client *client,
			const struct i2c_device_id *id)
{
	int err;
	struct platform_device * sensor_t8ev5_dev;
	pr_info("t8ev5 %s\n",__func__);

	mt9p111_sensor_info = kzalloc(sizeof(struct sensor_info), GFP_KERNEL);
	if (!mt9p111_sensor_info) {
		pr_err("t8ev5 : Unable to allocate memory!\n");
		return -ENOMEM;
	}

	err = misc_register(&sensor_device);
	if (err) {
		pr_err("t8ev5 : Unable to register misc device!\n");
		goto EXIT;
	}
	err = misc_register(&t8ev5_device);
	if (err) {
		pr_err("t8ev5: Unable to register t8ev5_device misc device!\n");
		goto EXIT1;
	}
	mt9p111_sensor_info->pdata = client->dev.platform_data;
	mt9p111_sensor_info->i2c_client = client;

	mt9p111_sensor_info->config.settle_time = SETTLETIME_MS;
	mt9p111_sensor_info->config.focal_length = FOCAL_LENGTH;
	mt9p111_sensor_info->config.fnumber = FNUMBER;
	mt9p111_sensor_info->config.pos_low = POS_LOW;
	mt9p111_sensor_info->config.pos_high = POS_HIGH;
	mt9p111_sensor_info->config.focus_macro = T8EV5_FOCUS_MACRO,
	mt9p111_sensor_info->config.focus_infinity = T8EV5_FOCUS_INFINITY,

	atomic_set(&mt9p111_sensor_info->power_on_loaded, 0);
	atomic_set(&mt9p111_sensor_info->sensor_init_loaded, 0);

	sensor_t8ev5_dev = platform_device_register_simple("t8ev5", -1, NULL, 0);
       if (IS_ERR(sensor_t8ev5_dev))
       {
           printk ("t8ev5 sensor_dev_init: error\n");
           //goto EXIT2;
       }
	err = sysfs_create_group(&sensor_t8ev5_dev->dev.kobj, &ets_attr_group);
      if (err !=0)
       {
         dev_err(&client->dev,"%s:create sysfs group error", __func__);
        //goto EXIT2;
       }
	mutex_init(&mt9p111_sensor_info->als_get_sensor_value_mutex);
	
	i2c_set_clientdata(client, mt9p111_sensor_info);
	pr_info("t8ev5 %s register successfully!\n",__func__);
	return 0;
EXIT1:
	misc_deregister(&sensor_device);
EXIT:
	kfree(mt9p111_sensor_info);
	return err;
}

static int sensor_remove(struct i2c_client *client)
{
	struct sensor_info *info;

	pr_info("t8ev5 %s\n",__func__);
	info = i2c_get_clientdata(client);
	misc_deregister(&sensor_device);
	misc_deregister(&t8ev5_device);
	mutex_destroy(&info->als_get_sensor_value_mutex);
	kfree(info);
	return 0;
}

static const struct i2c_device_id sensor_id[] = {
	{ SENSOR_NAME, 0 },
	{ },
};

MODULE_DEVICE_TABLE(i2c, sensor_id);

static struct i2c_driver sensor_i2c_driver = {
	.driver = {
		.name = SENSOR_NAME,
		.owner = THIS_MODULE,
	},
	.probe = sensor_probe,
	.remove = sensor_remove,
	.id_table = sensor_id,
};

static int __init sensor_init(void)
{
	pr_info("t8ev5 %s\n",__func__);
	return i2c_add_driver(&sensor_i2c_driver);
}

static void __exit sensor_exit(void)
{
	pr_info("t8ev5 %s\n",__func__);
	i2c_del_driver(&sensor_i2c_driver);
}

module_init(sensor_init);
module_exit(sensor_exit);

